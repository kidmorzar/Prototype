System.register("chunks:///_virtual/Armory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Weapon.ts","./ArmoryUIManager.ts","./PlayerStatsManager.ts","./EventManager.ts","./HangerUI.ts","./Gears.ts","./Ship.ts","./Rigs.ts"],(function(n){var t,e,i,a,r,s,o,c,l,u,h,f,d,m,p;return{setters:[function(n){t=n.createForOfIteratorHelperLoose},function(n){e=n.cclegacy,i=n.sys},function(n){a=n.WeaponList},function(n){r=n.ArmoryUIManager},function(n){s=n.PlayerStatsManager},function(n){o=n.EventManager},function(n){c=n.HangerUI,l=n.SlotSelection},function(n){u=n.GearList,h=n.ShieldBooster,f=n.ThrusterBoost},function(n){d=n.ShipList},function(n){m=n.RigList,p=n.Rig}],execute:function(){e._RF.push({},"4407cd5cmpJlr9F4t268sNz","Armory",void 0);var g=n("ArmoryItem",(function(n,t){this.item=void 0,this.quantity=void 0,this.item=n,this.quantity=t})),v=n("ShipItem",(function(n,t,e,i,a){this.unid=void 0,this.ship=void 0,this.weapon=void 0,this.gear=void 0,this.rig=void 0,this.unid=n,this.ship=t,this.weapon=e,this.gear=i,this.rig=a}));n("Armory",function(){function n(){this.Armory=[],this.shipYard=[]}n.getInstance=function(){return n.instance||(n.instance=new n,o.on("InstallItem",this.instance.InstallItem,this.instance),o.on("UnInstallItem",this.instance.UnInstallItem,this.instance),o.on("AddItemArmory",this.instance.AddItem,this.instance),o.on("InstallShip",this.instance.InstallShip,this.instance)),n.instance};var e=n.prototype;return e.saveArmory=function(){var n=this.Armory.map((function(n){return{itemName:n.item.name,quantity:n.quantity}}));i.localStorage.setItem("armoryData",JSON.stringify(n)),console.info("Armory data saved")},e.loadArmory=function(){var n=i.localStorage.getItem("armoryData");if(n){var e=JSON.parse(n),r=a.GetInstance(),s=u.GetInstance(),o=m.GetInstance();this.Armory=[];for(var c,l=t(e);!(c=l()).done;){var h=c.value,f=r.findWeaponinList(h.itemName),d=s.findGearinList(h.itemName),p=o.findRiginList(h.itemName),g=f||d||p;g?this.AddItem(g,h.quantity):console.info("Item not found in any list:",h.itemName)}console.info("Armory Loaded")}else console.info("No Saved Armory Data Found")},e.saveShipyard=function(){var n=this.shipYard.map((function(n){return{shipName:n.ship.name,weapons:n.weapon.map((function(n){return n.name})),gears:n.gear.map((function(n){return n.name})),rigs:n.rig.map((function(n){return n.name}))}}));i.localStorage.setItem("shipyardData",JSON.stringify(n)),console.info("Shipyard data saved")},e.loadShipyard=function(){var n=i.localStorage.getItem("shipyardData");if(n){var e=JSON.parse(n),r=a.GetInstance(),s=u.GetInstance(),o=m.GetInstance(),c=d.GetInstance();this.shipYard=[];for(var l,h=t(e);!(l=h()).done;){for(var f,p=l.value,g=c.findShipinList(p.shipName),I=[],y=[],S=[],A=t(p.weapons);!(f=A()).done;){var N=f.value;I.push(r.findWeaponinList(N))}for(var U,_=t(p.gears);!(U=_()).done;){var w=U.value;y.push(s.findGearinList(w))}for(var L,R=t(p.rigs);!(L=R()).done;){var G=L.value;S.push(o.findRiginList(G))}this.shipYard.push(new v(this.FindNextUnid(),g,I,y,S))}console.info("Shipyard Loaded")}else console.info("No Saved Shipyard Data Found")},e.AddItem=function(n,t){var e=this.Armory.find((function(t){return t.item.id===n.id}));e?e.quantity+=t:this.Armory.push(new g(n,t)),console.log(n.name+" added to armory")},e.RemoveItem=function(n,t){var e=this.Armory.find((function(t){return t.item.id===n.id}));return e?e.quantity>=t?(e.quantity-=t,0===e.quantity&&(this.Armory=this.Armory.filter((function(t){return t.item.id!==n.id}))),console.log(n.name+" removed from armory"),r.instance.RefreshItems(""),!0):(console.log("Failed to remove: Not enough quantity of "+n.name+" to remove."),!1):(console.log("Failed to remove: "+n.name+" does not exist."),!1)},e.InstallItem=function(n,t){var e=s.getInstance().player;if(this.UnInstallItem(n),t instanceof p||!(t.CPU>c.instance.GetCPURemaining())){if(t instanceof h)for(var i=1;i<=7;i++)if(e["gear_"+i]instanceof h)return console.info("ShieldBooster Existed"),void o.emit("ErrorMessage","ShieldBooster Existed");if(t instanceof f)for(var a=1;a<=7;a++)if(e["gear_"+a]instanceof f)return console.info("ThrusterBoost Existed"),void o.emit("ErrorMessage","ThrusterBoost Existed");e[n]=t,s.getInstance().init(),console.log("Installed "+t.name),this.RemoveItem(t,1),c.instance.selectedSlot=l.none,o.emit("ArmoryUIOff")}else o.emit("ErrorMessage","Insufficient CPU")},e.UnInstallItem=function(n){var t=s.getInstance().player;t[n]&&(console.log("uninstalled "+t[n].name),t[n]instanceof p||this.AddItem(t[n],1),t[n]=null,s.getInstance().init(),o.emit("ArmoryUIOff"))},e.AddShip=function(n){},e.RemoveShip=function(n){this.shipYard=this.shipYard.filter((function(t){return t.unid!==n.unid}))},e.InstallShip=function(n){var t=s.getInstance().player;this.UninstallShip(),t.ship=n.ship;for(var e=1;e<=7;e++)n.weapon[e-1]&&(t["weapon_"+e]=n.weapon[e-1]);for(var i=1;i<=7;i++)n.gear[i-1]&&(t["gear_"+i]=n.gear[i-1]);for(var a=1;a<=7;a++)n.rig[a-1]&&(t["rig_"+a]=n.rig[a-1]);this.RemoveShip(n),s.getInstance().init(),r.instance.RefreshShipIcons(),o.emit("InitializeHanger")},e.UninstallShip=function(){var n=s.getInstance().player,t=[],e=[],i=[];if(null!=n.ship){for(var a=1;a<=7;a++)n["weapon_"+a]&&(t.push(n["weapon_"+a]),n["weapon_"+a]=null);for(var c=1;c<=6;c++)n["gear_"+c]&&(e.push(n["gear_"+c]),n["gear_"+c]=null);for(var l=1;l<=6;l++)n["rig_"+l]&&(i.push(n["rig_"+l]),n["rig_"+l]=null);var u=new v(this.FindNextUnid(),n.ship,t,e,i);this.shipYard.push(u),n.ship=null,s.getInstance().init(),r.instance.RefreshShipIcons(),o.emit("InitializeHanger")}},n.cleanup=function(){n.instance&&(o.off("InstallNewWeapon",this.instance.InstallItem,this.instance),n.instance=null)},e.FindNextUnid=function(){if(0===this.shipYard.length)return 1;var n=this.shipYard.map((function(n){return n.unid}));n.sort((function(n,t){return n-t}));for(var e,i=1,a=t(n);!(e=a()).done;){var r=e.value;if(r===i)i++;else if(r>i)break}return i},n}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/ArmoryUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Weapon.ts","./HangerUI.ts","./Armory.ts","./EventManager.ts","./Gears.ts","./ItemIconControl.ts","./ShipItemControl.ts","./Rigs.ts","./ShipDescUI.ts","./PlayerStatsManager.ts"],(function(e){var t,n,r,i,o,a,s,c,l,u,h,m,p,f,I,y,g,v,U,P,S,d,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,c=e.Prefab,l=e.Node,u=e.instantiate,h=e.find,m=e.Component},function(e){p=e.Weapon},function(e){f=e.HangerUI},function(e){I=e.ShipItem,y=e.Armory},function(e){g=e.EventManager},function(e){v=e.Gear},function(e){U=e.ItemIconControl},function(e){P=e.ShipItemControl},function(e){S=e.Rig},function(e){d=e.ShipDescUI},function(e){C=e.PlayerStatsManager}],execute:function(){var b,T,A,O,L,w,M,R,D,z,E,H,B,_,k,F;a._RF.push({},"d2dd9OK4/tHiKswhEYrJMkC","ArmoryUIManager",void 0);var G=s.ccclass,q=s.property;e("ArmoryUIManager",(b=G("ArmoryUIManager"),T=q(c),A=q(c),O=q(l),L=q(l),w=q(l),M=q(c),b(((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"itemIconPre",z,i(t)),r(t,"shipIconPre",E,i(t)),r(t,"armoryUI",H,i(t)),r(t,"armoryLayout",B,i(t)),r(t,"shipSelectButton",_,i(t)),r(t,"shipDescPre",k,i(t)),t.longPressTimer=void 0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this},a.start=function(){var e=this;g.on("ArmoryUIOn",this.UIOn,this),g.on("ArmoryUIOff",this.UIOff,this),this.RefreshItems(""),this.RefreshShipIcons(),this.UIOff(),this.shipSelectButton.on(l.EventType.TOUCH_START,(function(){e.ShipUI(),e.longPressTimer=setTimeout((function(){e.onLongPress()}),500)})),this.shipSelectButton.on(l.EventType.TOUCH_END,(function(){e.longPressTimer&&clearTimeout(e.longPressTimer),e.longPressTimer=null}),this),this.shipSelectButton.on(l.EventType.TOUCH_MOVE,(function(){e.longPressTimer&&clearTimeout(e.longPressTimer),e.longPressTimer=null}),this)},a.onLongPress=function(){if(null!=C.getInstance().player.ship){var e=u(this.shipDescPre);e.setParent(h("Canvas/PopUpUI")),e.getComponent(d).installButton.active=!1,e.getComponent(d).GetShip(new I(0,C.getInstance().player.ship,[],[],[]))}},a.UIOn=function(){this.armoryUI.active=!0},a.UIOff=function(){this.armoryUI.active=!1},a.RefreshItems=function(e){this.armoryLayout.removeAllChildren(),y.getInstance().Armory.sort((function(e,t){return e.item.id-t.item.id}));for(var t,n=o(y.getInstance().Armory);!(t=n()).done;){var r=t.value;switch(e){case"weapon":r.item instanceof p&&this.CreateItemIcon(r);break;case"gear":r.item instanceof v&&this.CreateItemIcon(r);break;case"rig":r.item instanceof S&&this.CreateItemIcon(r);break;default:this.CreateItemIcon(r)}}},a.RefreshShipIcons=function(){this.armoryLayout.removeAllChildren();for(var e,t=o(y.getInstance().shipYard);!(e=t()).done;){var n=e.value;this.CreateShipIcon(n)}},a.CreateItemIcon=function(e){var t=u(this.itemIconPre);t.setParent(this.armoryLayout),t.getComponent(U).item=e.item,t.getComponent(U).quantity.string=""+e.quantity},a.CreateShipIcon=function(e){var t=u(this.shipIconPre);t.setParent(this.armoryLayout),t.getComponent(P).shipItem=e},a.ShipUI=function(){0==this.armoryUI.active||0!=f.instance.selectedSlot?(g.emit("ArmoryUIOn"),f.instance.selectedSlot=0,this.RefreshShipIcons()):1==this.armoryUI.active&&(g.emit("ArmoryUIOff"),f.instance.selectedSlot=0)},t}(m)).instance=void 0,z=t((D=F).prototype,"itemIconPre",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(D.prototype,"shipIconPre",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(D.prototype,"armoryUI",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(D.prototype,"armoryLayout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(D.prototype,"shipSelectButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(D.prototype,"shipDescPre",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=D))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/BGPlanetControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,i,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.Component}],execute:function(){var s;n._RF.push({},"ebfd2yA/5lIx7Jpbfw7Mhqn","BGPlanetControl",void 0);var r=i.ccclass;i.property,t("BGPlanetControl",r("BGPlanetControl")(s=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var i=n.prototype;return i.start=function(){},i.update=function(t){this.node.setPosition(this.node.position.x+10*t,this.node.position.y,1),this.node.position.x>=600&&this.node.setPosition(this.node.position.x-800,this.node.position.y,1)},n}(e))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/BluePrintsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,n=t.Component}],execute:function(){var o;i._RF.push({},"fdf7cuaqeRF8YlmHvbwV9oa","BluePrintsManager",void 0);var u=r.ccclass;r.property,t("BluePrints",(function(){this.productID=void 0,this.productName=void 0,this.productQuantity=void 0,this.produceTime=void 0,this.requiredItem_1=void 0,this.requiredItem_1_Quantity=void 0,this.requiredItem_2=void 0,this.requiredItem_2_Quantity=void 0})),t("BluePrintsManager",u("BluePrints")(o=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var r=i.prototype;return r.start=function(){},r.update=function(t){},i}(n))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/BulletControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,e,r,s;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.tween,s=t.Component}],execute:function(){var i;n._RF.push({},"68ae5PAmrpO9b+QTCeas68J","BulletControl",void 0);var c=e.ccclass;e.property,t("BulletControl",c("BulletControl")(i=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this).startPos=void 0,o.endPos=void 0,o}o(n,t);var e=n.prototype;return e.SetPos=function(t,o){this.startPos=t,this.endPos=o},e.start=function(){var t=this;r(this.node).to(.2,{position:this.endPos}).call((function(){setTimeout((function(){t.node.destroy()}),.2)})).start()},e.update=function(t){},n}(s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ClickShowStatsBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StatsBoard.ts"],(function(t){var o,e,r,n,a,i,c,s,l;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,c=t.Node,s=t.Component},function(t){l=t.StatsBoard}],execute:function(){var u,p,d,S,h;a._RF.push({},"c678aVxgSVElqo3aEsRzcAn","ClickShowStatsBoard",void 0);var f=i.ccclass,g=i.property;t("ClickShowStatsBoard",(u=f("ClickShowStatsBoard"),p=g(c),u((h=o((S=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return o=t.call.apply(t,[this].concat(a))||this,r(o,"StatsBoard",h,n(o)),o}return e(o,t),o.prototype.onLoad=function(){var t=this;this.node.on(c.EventType.TOUCH_END,(function(){t.StatsBoard.getComponent(l).toggleTargetNodeActive()}),this)},o}(s)).prototype,"StatsBoard",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=S))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CombatManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entity.ts","./MissileControl.ts","./DamageLabelControl.ts","./LaserControl.ts","./PlayerStatsManager.ts","./BulletControl.ts","./EnemyManager.ts","./ShipUIControl.ts","./HealthBarUIManager.ts"],(function(e){var t,n,i,o,a,r,l,s,c,p,y,h,u,m,d,f,g,b,P,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,s=e.Prefab,c=e.resources,p=e.instantiate,y=e.Component},function(e){h=e.EntityType},function(e){u=e.MissileControl},function(e){m=e.DamageLabelControl},function(e){d=e.LaserControl},function(e){f=e.PlayerStatsManager},function(e){g=e.BulletControl},function(e){b=e.EnemyManager},function(e){P=e.ShipUIControl},function(e){C=e.HealthBarUIManager}],execute:function(){var S,v,E,w,L,N,I,M,z,D,R,A,F,B,j,x;a._RF.push({},"7edc89+AahNVLEEEFFzpm8Z","CombatManager",void 0);var U=r.ccclass,_=r.property;r.requireComponent,e("CombatManager",(S=U("BattleManager"),v=_(l),E=_(l),w=_(s),L=_(s),N=_(s),I=_(s),S(((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"playerNode",D,o(t)),i(t,"enemyNode",R,o(t)),i(t,"missilePre",A,o(t)),i(t,"laserPre",F,o(t)),i(t,"bulletPre",B,o(t)),i(t,"damageLabelPre",j,o(t)),t.player=void 0,t.enemy=void 0,t.enemyDestoryed=!1,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this,this.player=f.getInstance().player},a.start=function(){console.info("Combat Scene"),this.LoadEnemyShip(),this.InitializePlayer(),f.getInstance().init()},a.InitializePlayer=function(){var e=this;this.player.init(),c.load(""+this.player.ship.name,s,(function(t,n){var i=p(n);i.setParent(e.playerNode),i.getComponent(P).entity=e.player})),this.player.ShieldAutoRecharge(),this.player.CapacitorAutoRecharge()},a.InitializeEnemy=function(){this.enemy.ShieldAutoRecharge(),this.enemy.CapacitorAutoRecharge()},a.update=function(e){this.enemy&&this.player.hull>0&&(this.player.FireAllWeapon(this.enemy,e),this.enemy.FireAllWeapon(this.player,e))},a.LoadEnemyShip=function(){var e=this;this.enemy=b.instance.GetCurrentEnemy(),this.enemyDestoryed=!1,C.instance.init(),this.InitializeEnemy(),console.log("New enemy Loaded "+this.enemy.name),this.enemy.type==h.enemy&&c.load(""+this.enemy.ship.name,s,(function(t,n){var i=p(n);i.setParent(e.enemyNode),i.setPosition(200,0),i.setSiblingIndex(0),i.getComponent(P).entity=b.instance.GetCurrentEnemy()}))},a.EnemyDestoryed=function(){this.enemyDestoryed=!0,console.log("enemy ship down"),this.enemyNode.getComponentInChildren(P).ShipExplode(),setTimeout((function(){b.instance.RemoveEnemyFromFleet()}),5e3)},a.PlayerDestoryed=function(){this.playerNode.getComponentInChildren(P).ShipExplode()},a.SpawnMissile=function(e,t){this.SpawnProjectiles(e,t,this.missilePre,u)},a.SpawnLaser=function(e,t){this.SpawnProjectiles(e,t,this.laserPre,d)},a.SpawnBullet=function(e,t){this.SpawnProjectiles(e,t,this.bulletPre,g)},a.SpawnProjectiles=function(e,t,n,i){var o=e===h.enemy?this.playerNode:this.enemyNode,a=e===h.enemy?this.enemyNode:this.playerNode;if(this.node.active){var r=o.children[0].children[0].children[t-1];if(r){var l=r.getPosition(),s=o.position.clone().add(l.multiply(o.children[0].scale).add(o.children[0].position)),c=a.position,y=p(n);y.setParent(this.node),y.setPosition(s),y.getComponent(i).SetPos(s,c)}else console.error("turret not found")}},a.SpawnDamageLabel=function(e,t){var n=e===h.player?this.playerNode.position:this.enemyNode.position,i=p(this.damageLabelPre);i.setParent(this.node),i.setPosition(n),i.getComponent(m).SetLabel(t)},a.onDisable=function(){console.info("Combat Ends"),this.player.StopRecharge(),this.enemy.StopRecharge()},t}(y)).instance=void 0,D=t((z=x).prototype,"playerNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"enemyNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"missilePre",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(z.prototype,"laserPre",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(z.prototype,"bulletPre",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(z.prototype,"damageLabelPre",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=z))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/CurrentJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrentTime.ts","./JobSelection.ts","./ItemManager.ts","./Inventory.ts"],(function(t){var e,r,n,i,o,s,a,c,u,b,h,l,d,J;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Label,c=t.Button,u=t.ProgressBar,b=t.Component},function(t){h=t.CurrentTime},function(t){l=t.JobSelection},function(t){d=t.Item},function(t){J=t.Inventory}],execute:function(){var m,p,f,g,j,I,B,S,w,v;o._RF.push({},"11d10092ylPhrpQi/PY/ECN","CurrentJob",void 0);var y=s.ccclass,C=s.property,T=function(t){return t[t.idle=0]="idle",t[t.started=1]="started",t[t.finished=2]="finished",t}(T||{}),L=t("CurrentJob_Mining",(function(){this.jobName="",this.jobLength=0,this.finishTime=0,this.jobState=T.idle,this.reward=null}));t("CurrentJob",(m=y("CurrentJob"),p=C(a),f=C(a),g=C(c),m(((v=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"currentJobName",B,i(e)),n(e,"currentJobFinishTime",S,i(e)),n(e,"startJobButton",w,i(e)),e.currentJob=new L,e.selectedjob=void 0,e.currenttime=void 0,e.psBar=void 0,e}r(e,t);var o=e.prototype;return o.onLoad=function(){e.Instance?e.Instance&&e.Instance!=this&&this.node.destroy():e.Instance=this},o.start=function(){this.psBar=this.getComponentInChildren(u),this.psBar&&(this.psBar.progress=0),this.JobIdle()},o.update=function(t){if(this.currentJob.jobState==T.started){this.ProgressBarUpdate(),this.startJobButton.interactable=!1;var e=this.currentJob.finishTime-h.Instance.currentTime;this.UpdateStartButtonLabel(e>0?e.toString():"Claim"),e<=0&&(console.log(this.currentJob.jobName+" Finished"),this.currentJob.jobState=T.finished,this.startJobButton.interactable=!0)}},o.JobIdle=function(){this.currentJob.jobState=T.idle,this.UpdateLabels("",""),this.UpdateStartButtonLabel("StartJob"),l.Instance.node.active=!0},o.JobStarted=function(){this.selectedjob=l.Instance.jobSelected,this.currenttime=h.Instance.currentTime,this.currentJob.jobName=this.selectedjob.name,this.currentJob.jobLength=this.selectedjob.time,this.currentJob.finishTime=this.currenttime+this.selectedjob.time,this.currentJob.reward=this.selectedjob.reward,this.currentJob.jobState=T.started,this.UpdateLabels(this.currentJob.finishTime,this.currentJob.jobName),console.log(this.currentJob.jobName+" Started"),l.Instance.node.active=!1},o.JobFinished=function(){},o.ClaimReward=function(){var t=new d(this.currentJob.reward.id,this.currentJob.reward.name,this.currentJob.reward.quantity);J.getInstance().addItem(t),console.log(this.currentJob.jobName+" rewards claimed "+this.currentJob.reward.name+" * "+this.currentJob.reward.quantity)},o.StartJobButton=function(){switch(this.currentJob.jobState){case T.idle:this.JobStarted();break;case T.finished:this.ClaimReward(),this.JobIdle()}},o.ProgressBarUpdate=function(){this.psBar.progress=1-(this.currentJob.finishTime-h.Instance.currentTime)/this.currentJob.jobLength},o.UpdateLabels=function(t,e){this.currentJobFinishTime.string=""+t,this.currentJobName.string=e},o.UpdateStartButtonLabel=function(t){this.startJobButton.getComponentInChildren(a).string=""+t},e}(b)).Instance=void 0,B=e((I=v).prototype,"currentJobName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(I.prototype,"currentJobFinishTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(I.prototype,"startJobButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=I))||j));o._RF.pop()}}}));

System.register("chunks:///_virtual/CurrentTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeManager.ts"],(function(e){var t,r,n,i,c,o,u,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,u=e.Label,a=e.Component},function(e){s=e.FetchUnixTime}],execute:function(){var l,p,m,h,T,f;c._RF.push({},"62402uBDX1Nt54MiNIh5/W2","CurrentTime",void 0);var v=o.ccclass,y=o.property;e("CurrentTime",(l=v("CurrentTime"),p=y(u),l(((f=function(e){function t(){for(var t,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,n(t,"currentTimeLabel",T,i(t)),t.currentTime=0,t}r(t,e);var c=t.prototype;return c.onLoad=function(){t.Instance=this},c.start=function(){var e=this;s.FetchUnixTime().then((function(t){e.currentTime=t})),this.schedule((function(){e.currentTime++,e.currentTimeLabel.string=e.currentTime+""}),1)},t}(a)).Instance=void 0,T=t((h=f).prototype,"currentTimeLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/DamageLabelControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,i,s,a,c,p;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Label,i=t.Color,s=t.tween,a=t.Vec3,c=t.UIOpacity,p=t.Component}],execute:function(){var l;e._RF.push({},"3adecscPXZBwaW/e79Sjzzh","DamageLabelControl",void 0);var u=n.ccclass;n.property,t("DamageLabelControl",u("DamageLabelControl")(l=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.SetLabel=function(t){"number"==typeof t&&(this.node.getComponent(r).string=t.toFixed(2)),"number"==typeof t&&t<0?this.node.getComponent(r).color=i.RED:"number"==typeof t&&0==t?(this.node.getComponent(r).color=i.RED,this.node.getComponent(r).string="MISS"):"number"==typeof t&&t>0&&(this.node.getComponent(r).color=i.CYAN)},n.start=function(){var t=this;s(this.node).to(1,{position:new a(this.node.position.x,this.node.position.y+100,0)},{easing:"sineOut"}).call((function(){t.node.destroy()})).start(),s(this.node.getComponent(c)).to(1,{opacity:0}).start()},e}(p))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DebugBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Weapon.ts","./ArmoryUIManager.ts","./Gears.ts","./Armory.ts","./Ship.ts","./Rigs.ts","./PlayerStatsManager.ts"],(function(t){var e,n,a,r,i,s,o,c,l,u,p,d,h,f,g,b,I,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,o=t.Node,c=t.Label,l=t.Component},function(t){u=t.EventManager},function(t){p=t.WeaponList},function(t){d=t.ArmoryUIManager},function(t){h=t.GearList},function(t){f=t.Armory,g=t.ShipItem},function(t){b=t.ShipList},function(t){I=t.RigList},function(t){y=t.PlayerStatsManager}],execute:function(){var m,S,v,A,L,R,B,w,G;i._RF.push({},"3048eV+8vZDaILshOfiAIV5","DebugBoard",void 0);var D=s.ccclass,M=s.property;t("DebugBoard",(m=D("DebugBoard"),S=M(o),v=M(c),A=M(c),m((B=e((R=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,a(e,"buttonBoard",B,r(e)),a(e,"playerStatsLabel",w,r(e)),a(e,"playerStatsValue",G,r(e)),e}n(e,t);var i=e.prototype;return i.start=function(){this.buttonBoard.active=!1},i.update=function(){this.updateLabel()},i.updateLabel=function(){for(var t="",e="",n=0,a=Object.keys(y.getInstance());n<a.length;n++){var r=a[n];r.endsWith("Mod")&&(t+=r+"\n",e+=y.getInstance()[r].toFixed(2)+"\n")}this.playerStatsLabel.string=t,this.playerStatsValue.string=e},i.SwitchUI=function(){this.buttonBoard.active=!this.buttonBoard.active},i.AddAllWeapon=function(){for(var t=p.GetInstance(),e=0,n=Object.keys(t);e<n.length;e++){var a=n[e];u.emit("AddItemArmory",t[a],6),d.instance.RefreshItems("weapon")}},i.AddAllGear=function(){for(var t=h.GetInstance(),e=0,n=Object.keys(t);e<n.length;e++){var a=n[e];u.emit("AddItemArmory",t[a],6),d.instance.RefreshItems("gear")}},i.AddAllRig=function(){for(var t=I.GetInstance(),e=0,n=Object.keys(t);e<n.length;e++){var a=n[e];u.emit("AddItemArmory",t[a],6),d.instance.RefreshItems("rig")}},i.AddShipTempest=function(){f.getInstance().shipYard.push(new g(f.getInstance().FindNextUnid(),b.GetInstance().Tempest,[],[],[])),d.instance.RefreshShipIcons()},i.AddShipSlasher=function(){f.getInstance().shipYard.push(new g(f.getInstance().FindNextUnid(),b.GetInstance().Slasher,[],[],[])),d.instance.RefreshShipIcons()},i.AddShipStabber=function(){f.getInstance().shipYard.push(new g(f.getInstance().FindNextUnid(),b.GetInstance().Stabber,[],[],[])),d.instance.RefreshShipIcons()},i.uninstallship=function(){f.getInstance().UninstallShip()},e}(l)).prototype,"buttonBoard",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(R.prototype,"playerStatsLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(R.prototype,"playerStatsValue",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=R))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory.ts",["cc","./Entity.ts","./Ship.ts","./Weapon.ts"],(function(n){var e,t,a,c,s,r;return{setters:[function(n){e=n.cclegacy,t=n._decorator},function(n){a=n.Entity,c=n.EntityType},function(n){s=n.ShipList},function(n){r=n.WeaponList}],execute:function(){e._RF.push({},"f37bagS71lMfqe26G+QDBKn","EnemyFactory",void 0);t.ccclass,t.property,n("EnemyFactory",function(){function n(){}return n.Create=function(n){var e;switch(n){case"jager1":e=new a(c.enemy,"jager1",s.GetInstance().Slasher,[r.GetInstance().S1_Cannon,r.GetInstance().S1_Cannon],[null]);break;case"jager2":e=new a(c.enemy,"jager2",s.GetInstance().Stabber,[r.GetInstance().M1_Cannon,r.GetInstance().M1_Cannon,r.GetInstance().M1_Cannon]);break;case"jager3":e=new a(c.enemy,"jager3",s.GetInstance().Tempest,[r.GetInstance().L1_Laser,r.GetInstance().L1_Missile,r.GetInstance().L1_Cannon])}return e},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFleetPreviewUIControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyManager.ts","./Ship.ts"],(function(e){var n,t,i,r,o,a,l,s,c,h,p,u,m,f,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,s=e.Prefab,c=e.UITransform,h=e.Size,p=e.instantiate,u=e.Vec3,m=e.Component},function(e){f=e.EnemyManager},function(e){y=e.ShipType}],execute:function(){var d,I,g,v,b,w,S,C,E;a._RF.push({},"93b7eTu8whD7qWjrGF6Ekfl","EnemyFleetPreviewUIControl",void 0);var F=l.ccclass,P=l.property;e("EnemyFleetPreviewUIControl",(d=F("EnemyFleetPreviewUIControl"),I=P(s),g=P(s),v=P(s),d((S=n((w=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"shipIconSmall",S,r(n)),i(n,"shipIconMedium",C,r(n)),i(n,"shipIconLarge",E,r(n)),n}t(n,e);var a=n.prototype;return a.start=function(){this.RefreshIcons()},a.update=function(e){},a.RefreshIcons=function(){this.node.removeAllChildren(),this.SpawnIcons();var e=this.node.children.length,n=20*e+5*(e-1);this.node.getComponent(c).setContentSize(new h(n,20)),this.HighlightCurrentEnemy()},a.SpawnIcons=function(){for(var e,n=o(f.instance.enemyFleet);!(e=n()).done;){var t=void 0;switch(e.value.ship.shipType){case y.small:t=p(this.shipIconSmall);break;case y.medium:t=p(this.shipIconMedium);break;case y.large:t=p(this.shipIconLarge)}t.setParent(this.node)}},a.HighlightCurrentEnemy=function(){this.node.children[0].setScale(new u(1.3,1.3,0))},n}(m)).prototype,"shipIconSmall",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(w.prototype,"shipIconMedium",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(w.prototype,"shipIconLarge",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyGen.ts",["cc"],(function(){var e,c;return{setters:[function(t){e=t.cclegacy,c=t._decorator}],execute:function(){e._RF.push({},"133cc1dujZPHaMNgqve4yKF","EnemyGen",void 0);c.ccclass,c.property;e._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyFactory.ts","./CombatManager.ts","./EnemyFleetPreviewUIControl.ts","./EventManager.ts"],(function(e){var t,n,r,o,i,a,l,c,s,m,y,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.createForOfIteratorHelperLoose,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,c=e.Component},function(e){s=e.EnemyFactory},function(e){m=e.CombatManager},function(e){y=e.EnemyFleetPreviewUIControl},function(e){u=e.EventManager}],execute:function(){var f,h,d,v,g,p;e("weightedRandomSelect",M),a._RF.push({},"312bdm5BtpN+oleElu4WxCV","EnemyManager",void 0);var E=l.ccclass,F=l.property,C=e("EnemyStates",function(e){return e[e.idle=0]="idle",e[e.active=1]="active",e[e.defeted=2]="defeted",e}({}));e("EnemyManager",(f=E("EnemyManager"),h=F(y),f(((p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).enemyFleet=[],t.enemyState=C.idle,o(t,"fleetPreview",g,i(t)),t.enemyList=[],t}r(t,e);var n=t.prototype;return n.onLoad=function(){t.instance=this;var e=M([{enemy:"jager1",chance:50},{enemy:"jager2",chance:30},{enemy:"jager3",chance:20}],6);this.enemyList=e,console.log("Generated Enemies for the Battle:",e.map((function(e){return e}))),this.CreateFleet(this.enemyList)},n.start=function(){this.enemyState=C.active},n.CreateFleet=function(e){for(var t=0;t<e.length;t++)this.AddEnemyToFleet(s.Create(""+e[t]))},n.AddEnemyToFleet=function(e){this.enemyFleet.push(e)},n.RemoveEnemyFromFleet=function(){this.enemyFleet.length>=1&&(this.enemyFleet.shift(),console.log("enemy removed from fleet"),this.fleetPreview.RefreshIcons(),this.enemyFleet.length>=1?(m.instance.LoadEnemyShip(),u.emit("LoadNewEnemy"),console.log(this.enemyFleet.length+"Enemies left")):console.log("No more entity in enemy fleet"))},n.GetCurrentEnemy=function(){return this.enemyFleet[0]},t}(c)).instance=void 0,g=t((v=p).prototype,"fleetPreview",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));function M(e,t){for(var r=e.reduce((function(e,t){return e+t.chance}),0),o=[],i=0;i<t;i++)for(var a,l=Math.random()*r,c=n(e);!(a=c()).done;){var s=a.value;if((l-=s.chance)<0){o.push(s.enemy);break}}return o}a._RF.pop()}}}));

System.register("chunks:///_virtual/Entity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Gears.ts","./Weapon.ts","./CombatManager.ts","./PlayerStatsManager.ts","./HealthBarUIManager.ts","./EventManager.ts"],(function(e){var a,i,t,s,r,l,n,h,c;return{setters:[function(e){a=e.createClass},function(e){i=e.cclegacy,t=e.randomRangeInt},function(e){s=e.EquipmentSize},function(e){r=e.WeaponType},function(e){l=e.CombatManager},function(e){n=e.PlayerStatsManager},function(e){h=e.HealthBarUIManager},function(e){c=e.EventManager}],execute:function(){i._RF.push({},"38da97IVDNOzZi6rPOISOKn","Entity",void 0);var o=e("EntityType",function(e){return e[e.player=0]="player",e[e.enemy=1]="enemy",e}({}));e("Entity",function(){function e(e,a,i,t,s,r){if(this.name=void 0,this.type=void 0,this._ship=null,this.observers=[],this.shield=0,this.shieldMax=0,this.shieldRCT=0,this.shieldRecharge=void 0,this.hull=0,this.hullMax=0,this.capacity=0,this.capacitorRCT=0,this.capacityMax=0,this.capacitorRecharge=void 0,this.fireProgress_1=0,this.fireProgress_2=0,this.fireProgress_3=0,this.fireProgress_4=0,this.fireProgress_5=0,this.fireProgress_6=0,this.speed=0,this.CPU=0,this.CPUMax=0,this.weapon_1=null,this.weapon_2=null,this.weapon_3=null,this.weapon_4=null,this.weapon_5=null,this.weapon_6=null,this.weapon_7=null,this.gear_1=null,this.gear_2=null,this.gear_3=null,this.gear_4=null,this.gear_5=null,this.gear_6=null,this.gear_7=null,this.rig_1=null,this.rig_2=null,this.rig_3=null,this.rig_4=null,this.rig_5=null,this.rig_6=null,this.rig_7=null,this.type=e,this.name=a,this.ship=i,this.ship){this.hull=i.hull,this.hullMax=i.hull,this.shield=i.shield,this.shieldMax=i.shield,this.shieldRCT=i.shieldRCT,this.capacity=i.capacity,this.capacityMax=i.capacity,this.capacitorRCT=i.capacitorRCT,this.speed=i.speed,this.CPUMax=i.CPU;for(var l=1;l<=7;l++)this["weapon_"+l]=(null==t?void 0:t[l-1])||null;for(var n=1;n<=7;n++)this["gear_"+n]=(null==s?void 0:s[n-1])||null;for(var h=1;h<=7;h++)this["rig_"+h]=(null==r?void 0:r[h-1])||null}}var i=e.prototype;return i.addObserver=function(e){this.observers.push(e)},i.notifyObservers=function(){var e=this;this.observers.forEach((function(a){return a(e._ship)}))},i.init=function(){var e=n.getInstance();if(this.ship){var a=this.ship;this.shieldMax=a.shield*e.shieldMod+e.shieldAmp,this.shield=this.shieldMax,this.shieldRCT=a.shieldRCT/e.shieldRCTMod,this.hullMax=a.hull*e.hullMod+e.hullAmp,this.hull=this.hullMax,this.capacityMax=a.capacity*e.capacityMod+e.capacityAmp,this.capacity=this.capacityMax,this.capacitorRCT=a.capacitorRCT/e.capacitorRCTMod,this.speed=a.speed*e.speedMod,this.CPUMax=a.CPU*e.CPUMod}for(var i=1;i<=7;i++)this["fireProgress_"+i]=0;console.info("playerEntity init")},i.FireAllWeapon=function(e,a){for(var i=1;i<=7;i++)this.Fire(e,a,i)},i.Fire=function(e,a,i){var s=this,n=this["weapon_"+i];if(null!=n){var h="fireProgress_"+i;if(this.hull>0&&e.hull>0){if(this[h]<1)return void(this[h]=Math.min(this[h]+1/this.getFireRate(n)*a,1));if(this.capacity<n.capacityCost)return;var c=0;switch(n.weaponType){case r.missile:c=1e3,setTimeout((function(){l.instance.SpawnMissile(e.type,i)}),t(0,200));break;case r.laser:c=0,setTimeout((function(){l.instance.SpawnLaser(e.type,i)}),t(0,100));break;case r.artillery:c=0;for(var o=0;o<3;o++)setTimeout((function(){l.instance.SpawnBullet(e.type,i)}),100*o+t(0,50))}setTimeout((function(){s.DealDamage(e,n)}),c),this.capacity-=n.capacityCost,this[h]=0}else this[h]=0}},i.DealDamage=function(e,a){e.shield>1&&c.emit("ActiveShieldSphere",e);var i=this.getDamage(a)*function(e,a){var i=.04,t=-100,s=e-a;if(s>0)return 1;var r=.95/(1+Math.exp(-i*(s-t)))+.05;return Math.max(.05,Math.min(r,1))}(this.getWeaponTrackingSpeed(a),e.getSpeed());console.log(this.name+" "+i);var t=0,s=0,n=0;switch(a.weaponType){case r.laser:t=.6*i,s=.4*i,n=0;break;case r.artillery:t=0,s=.4*i,n=.6*i;break;case r.missile:t=i/3,s=i/3,n=i/3}var o=t*(1-e.getRes("shieldERes"))+s*(1-e.getRes("shieldTRes"))+n*(1-e.getRes("shieldKRes")),p=0;if(e.shield>=o)e.shield-=o,p=o;else{var u=(o-e.shield)/o,d=s*u,g=n*u,M=t*u*(1-e.getRes("hullERes"))+d*(1-e.getRes("hullTRes"))+g*(1-e.getRes("hullKRes"));e.hull=Math.max(0,e.hull-M),p=e.shield+M,e.shield=0}h.instance.updateBar(e,"shield"),h.instance.updateBar(e,"hull"),l.instance.SpawnDamageLabel(e.type,-p),e.CheckForDestory()},i.getRes=function(e){var a=n.getInstance(),i=this.ship[e];return this.type==o.player&&(i=this.ship[e]*a[e+"Mod"]),i},i.getDamage=function(e){var a=n.getInstance(),i=e.damageMin,l=e.damageMax;if(this.type==o.player){var h,c;switch(e.weaponType){case r.laser:switch(h=a.laserDamageMinMod,c=a.laserDamageMaxMod,e.size){case s.S:h*=a.smallLaserDamageMinMod,c*=a.smallLaserDamageMaxMod;break;case s.M:h*=a.mediumLaserDamageMinMod,c*=a.mediumLaserDamageMaxMod;break;case s.L:h*=a.largeLaserDamageMinMod,c*=a.largeLaserDamageMaxMod}break;case r.artillery:switch(h=a.artilleryDamageMinMod,c=a.artilleryDamageMaxMod,e.size){case s.S:h*=a.smallArtilleryDamageMinMod,c*=a.smallArtilleryDamageMaxMod;break;case s.M:h*=a.mediumArtilleryDamageMinMod,c*=a.mediumArtilleryDamageMaxMod;break;case s.L:h*=a.largeArtilleryDamageMinMod,c*=a.largeArtilleryDamageMaxMod}break;case r.missile:switch(h=a.missileDamageMinMod,c=a.missileDamageMaxMod,e.size){case s.S:h*=a.smallMissileDamageMinMod,c*=a.smallMissileDamageMaxMod;break;case s.M:h*=a.mediumMissileDamageMinMod,c*=a.mediumMissileDamageMaxMod;break;case s.L:h*=a.largeMissileDamageMinMod,c*=a.largeMissileDamageMaxMod}}i=e.damageMin*h,l=e.damageMax*c}return t(i,l)},i.getFireRate=function(e){var a=n.getInstance(),i=e.fireRate;if(this.type==o.player)switch(e.weaponType){case r.laser:i=e.fireRate/a.laserFireRateMod;break;case r.artillery:i=e.fireRate/a.artilleryFireRateMod;break;case r.missile:i=e.fireRate/a.missileDamageMaxMod}return i},i.ActiveGear=function(e){this["gear_"+e].applyFunc(this)},i.getHull=function(){return this.hull},i.getSpeed=function(){var e=n.getInstance(),a=this.ship.speed;return this.type==o.player&&(a=this.ship.speed*e.speedMod),a},i.getWeaponTrackingSpeed=function(e){var a=n.getInstance(),i=e.trackingSpeed;if(this.type==o.player)switch(e.weaponType){case r.laser:i=e.trackingSpeed*a.laserTrackingSpeedMod;break;case r.artillery:i=e.trackingSpeed*a.artilleryTrackingSpeedMod;break;case r.missile:}return i},i.ShieldAutoRecharge=function(){var e=this;this.shieldRecharge=setInterval((function(){var a=.01+p(e.shield,e.shieldMax,e.getShieldRCT());a>0&&(e.shield=Math.min(e.shield+a,e.shieldMax),h.instance.updateBar(e,"shield"))}),1e3)},i.CapacitorAutoRecharge=function(){var e=this;this.capacitorRecharge=setInterval((function(){var a=.01+p(e.capacity,e.capacityMax,e.getCapacitorRCT());a>0&&(e.capacity=Math.min(e.capacity+a,e.capacityMax))}),1e3)},i.getCapacitorRCT=function(){var e=n.getInstance(),a=this.capacitorRCT;return this.type==o.player&&(a=this.capacitorRCT/e.capacitorRCTMod),a},i.getShieldRCT=function(){var e=n.getInstance(),a=this.shieldRCT;return this.type==o.player&&(a=this.shieldRCT/e.shieldRCTMod),a},i.StopRecharge=function(){clearInterval(this.shieldRecharge),clearInterval(this.capacitorRecharge)},i.CheckForDestory=function(){this.hull<=0&&(this.StopRecharge(),this.type==o.enemy&&0==l.instance.enemyDestoryed?l.instance.EnemyDestoryed():this.type==o.player&&l.instance.PlayerDestoryed())},a(e,[{key:"ship",get:function(){return this._ship},set:function(e){this._ship=e,this.notifyObservers()}}]),e}());function p(e,a,i){var t=10*a/i*(Math.sqrt(e/a)-e/a);return Math.round(100*t)/100}i._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorMessageControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){var t,r,s,a,o,i,n,l,c,g,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,n=e.Node,l=e.Label,c=e.UIOpacity,g=e.tween,p=e.Component},function(e){u=e.EventManager}],execute:function(){var m,y,f,h,v,b,M;o._RF.push({},"c33848+ZopO7Zoy5oy0PbgD","ErrorMessageControl",void 0);var F=i.ccclass,D=i.property;e("ErrorMessageControl",(m=F("ErrorMessageControl"),y=D(n),f=D(l),m((b=t((v=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,s(t,"messageFrame",b,a(t)),s(t,"messageLabel",M,a(t)),t}r(t,e);var o=t.prototype;return o.start=function(){this.messageFrame.active=!1,u.on("ErrorMessage",this.DisplayMessage,this)},o.DisplayMessage=function(e){var t=this;this.messageFrame.active=!0,this.messageFrame.getComponent(c).opacity=255,this.messageLabel.string=e,g(this.messageFrame.getComponent(c)).to(1,{opacity:0},{easing:"sineIn"}).call((function(){t.messageFrame.active=!1})).start()},o.onDestroy=function(){u.off("ErrorMessage",this.DisplayMessage,this)},t}(p)).prototype,"messageFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(v.prototype,"messageLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(t){var e,n,a;return{setters:[function(t){e=t.cclegacy,n=t._decorator,a=t.EventTarget}],execute:function(){var r;e._RF.push({},"aafb6EVEh5OUqVym1OgE6Lt","EventManager",void 0);n.ccclass,n.property;var c,i=(t({EventManager:c=function(){function t(){this.eventTarget=void 0,this.eventTarget=new a}return t.on=function(t,e,n){this.instance.eventTarget.on(t,e,n)},t.emit=function(t){for(var e,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];(e=this.instance.eventTarget).emit.apply(e,[t].concat(a))},t.off=function(t,e,n){this.instance.eventTarget.off(t,e,n)},t}(),default:c}),c);r=i,i.instance=new r,e._RF.pop()}}}));

System.register("chunks:///_virtual/FittingSlotIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStatsManager.ts","./HangerUI.ts","./ArmoryUIManager.ts","./EventManager.ts","./ItemDescUI.ts"],(function(t){var e,i,n,s,o,a,r,l,c,h,p,m,u,g,I,d,f,v,S,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Enum,l=t.SpriteFrame,c=t.Sprite,h=t.Prefab,p=t.Node,m=t.instantiate,u=t.find,g=t.resources,I=t.Component},function(t){d=t.PlayerStatsManager},function(t){f=t.SlotSelection,v=t.HangerUI},function(t){S=t.ArmoryUIManager},function(t){y=t.EventManager},function(t){b=t.ItemDescUI}],execute:function(){var T,N,F,P,_,w,U,A,C,D,R,z,k,G,W,E,H,M,B;o._RF.push({},"2a809APc1NKQqdFRxekSpzu","FittingSlotIcon",void 0);var L=a.ccclass,O=a.property,x=t("FittingSlotType",function(t){return t[t.Weapon=0]="Weapon",t[t.Gear=1]="Gear",t[t.Rig=2]="Rig",t}({}));t("FittingSlotIcon",(T=L("FittingSlotIcon"),N=O({type:r(f)}),F=O(l),P=O(l),_=O(l),w=O({type:r(x)}),U=O(c),A=O(h),C=O(p),T((z=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"thisSlotNo",z,s(e)),n(e,"slotActive",k,s(e)),n(e,"slotDeactive",G,s(e)),n(e,"slotSelected",W,s(e)),n(e,"slotType",E,s(e)),n(e,"itemIcon",H,s(e)),n(e,"ItemDescUIPre",M,s(e)),n(e,"unInstallButton",B,s(e)),e.spriteComponent=null,e.lastItemImage=null,e.slotActivated=void 0,e.longPressTimer=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){y.on("InitializeHanger",this.Init,this)},o.start=function(){var t=this;this.spriteComponent=this.node.getComponent(c),this.Init(),this.itemIcon.node.on(p.EventType.TOUCH_START,(function(){if(t.longPressTimer=setTimeout((function(){t.onLongPress()}),500),v.instance.selectedSlot!==t.thisSlotNo){switch(v.instance.selectedSlot=t.thisSlotNo,t.slotType){case x.Weapon:S.instance.RefreshItems("weapon");break;case x.Gear:S.instance.RefreshItems("gear");break;case x.Rig:S.instance.RefreshItems("rig")}y.emit("ArmoryUIOn")}else y.emit("ArmoryUIOff"),v.instance.selectedSlot=f.none}),this),this.itemIcon.node.on(p.EventType.TOUCH_END,(function(){t.longPressTimer&&clearTimeout(t.longPressTimer),t.longPressTimer=null}),this),this.itemIcon.node.on(p.EventType.TOUCH_MOVE,(function(){t.longPressTimer&&clearTimeout(t.longPressTimer),t.longPressTimer=null}),this),this.itemIcon.node.angle=-this.node.angle,this.unInstallButton.angle=-this.node.angle},o.onLongPress=function(){console.info("LongPressed");var t,e=d.getInstance().player;switch(this.slotType){case x.Weapon:if(!e["weapon_"+this.thisSlotNo])return;t=e["weapon_"+this.thisSlotNo];break;case x.Gear:if(!e["gear_"+(this.thisSlotNo-100)])return;t=e["gear_"+(this.thisSlotNo-100)];break;case x.Rig:if(!e["rig_"+(this.thisSlotNo-1e3)])return;t=e["rig_"+(this.thisSlotNo-1e3)];break;default:return}var i=m(this.ItemDescUIPre);i.setParent(u("Canvas/PopUpUI")),i.getComponent(b).GetItem(t)},o.Init=function(){var t=d.getInstance().player;if(null==t.ship)return this.slotActivated=!1,this.spriteComponent.spriteFrame=this.slotDeactive,this.lastItemImage=null,void(this.node.children[0].active=!1);switch(this.slotType){case x.Weapon:this.thisSlotNo>t.ship.weaponSlot?(this.slotActivated=!1,this.spriteComponent.spriteFrame=this.slotDeactive,this.node.children[0].active=!1):(this.slotActivated=!0,this.node.children[0].active=!0);break;case x.Gear:this.thisSlotNo-100>t.ship.gearSlot?(this.slotActivated=!1,this.spriteComponent.spriteFrame=this.slotDeactive,this.node.children[0].active=!1):(this.slotActivated=!0,this.node.children[0].active=!0);break;case x.Rig:this.thisSlotNo-1e3>t.ship.rigSlot?(this.slotActivated=!1,this.spriteComponent.spriteFrame=this.slotDeactive,this.node.children[0].active=!1):(this.slotActivated=!0,this.node.children[0].active=!0)}},o.update=function(t){d.getInstance().player["weapon_"+this.thisSlotNo],d.getInstance().player["gear_"+(this.thisSlotNo-100)],d.getInstance().player["rig_"+(this.thisSlotNo-1e3)];this.slotType==x.Weapon&&this.loadWeaponSprite(),this.slotType==x.Gear&&this.loadGearSprite(),this.slotType==x.Rig&&this.loadRigSprite(),this.slotActivated&&(v.instance.selectedSlot==this.thisSlotNo?this.spriteComponent.spriteFrame=this.slotSelected:this.spriteComponent.spriteFrame=this.slotActive),null!==this.lastItemImage?this.unInstallButton.active=!0:this.unInstallButton.active=!1},o.loadWeaponSprite=function(){var t=this,e=d.getInstance().player["weapon_"+this.thisSlotNo];if(!e||!this.spriteComponent)return this.lastItemImage=null,void(this.itemIcon.spriteFrame=null);e.image!=this.lastItemImage&&(this.lastItemImage=e.image,g.load(e.image+"/spriteFrame",l,(function(e,i){t.itemIcon.spriteFrame=i})))},o.loadGearSprite=function(){var t=this,e=d.getInstance().player["gear_"+(this.thisSlotNo-100)];if(!e||!this.spriteComponent)return this.lastItemImage=null,void(this.itemIcon.spriteFrame=null);e.image!=this.lastItemImage&&(this.lastItemImage=e.image,g.load(e.image+"/spriteFrame",l,(function(e,i){t.itemIcon.spriteFrame=i})))},o.loadRigSprite=function(){var t=this,e=d.getInstance().player["rig_"+(this.thisSlotNo-1e3)];if(!e||!this.spriteComponent)return this.lastItemImage=null,void(this.itemIcon.spriteFrame=null);e.image!=this.lastItemImage&&(this.lastItemImage=e.image,g.load(e.image+"/spriteFrame",l,(function(e,i){t.itemIcon.spriteFrame=i})))},o.UnInstallItem=function(){if(null!=this.lastItemImage){switch(this.slotType){case x.Weapon:y.emit("UnInstallItem","weapon_"+this.thisSlotNo);break;case x.Gear:y.emit("UnInstallItem","gear_"+(this.thisSlotNo-100));break;case x.Rig:y.emit("UnInstallItem","rig_"+(this.thisSlotNo-1e3))}this.node.children[0].getComponent(c).spriteFrame=null,this.lastItemImage=null}},o.onDestory=function(){y.off("InitializeHanger",this.Init,this)},e}(I)).prototype,"thisSlotNo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.none}}),k=e(R.prototype,"slotActive",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(R.prototype,"slotDeactive",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(R.prototype,"slotSelected",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(R.prototype,"slotType",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(R.prototype,"itemIcon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(R.prototype,"ItemDescUIPre",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(R.prototype,"unInstallButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=R))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/GearControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStatsManager.ts","./Gears.ts","./ItemDescUI.ts"],(function(e){var t,i,a,r,s,n,o,l,c,g,h,p,u,y,f,T,C,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,o=e.Sprite,l=e.Node,c=e.CCInteger,g=e.Prefab,h=e.resources,p=e.SpriteFrame,u=e.Color,y=e.instantiate,f=e.find,T=e.Component},function(e){C=e.PlayerStatsManager},function(e){m=e.GearActiveTypes},function(e){v=e.ItemDescUI}],execute:function(){var b,d,P,G,R,D,A,E,I,_,B;s._RF.push({},"69ef8KfCaBGYYIleDHNzCqa","GearControl",void 0);var U=n.ccclass,H=n.property;e("GearControl",(b=U("GearControl"),d=H(o),P=H(l),G=H(c),R=H(g),b((E=t((A=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,a(t,"psBar",E,r(t)),a(t,"icon",I,r(t)),a(t,"gearNumber",_,r(t)),a(t,"gearDescPre",B,r(t)),t.gear=void 0,t.isGearReady=!0,t.player=void 0,t.CD=void 0,t.gearToggle=!1,t.longPressTimer=void 0,t}i(t,e);var s=t.prototype;return s.start=function(){var e=this;this.player=C.getInstance().player,this.player["gear_"+this.gearNumber]?(this.gear=this.player["gear_"+this.gearNumber],this.CD=this.gear.coolDown,this.psBar.fillRange=0,h.load(this.gear.image+"/spriteFrame",p,(function(t,i){e.icon.getComponent(o).spriteFrame=i})),this.icon.on(l.EventType.TOUCH_START,this.onPress,this),this.icon.on(l.EventType.TOUCH_END,this.onRelease,this),this.icon.on(l.EventType.TOUCH_MOVE,this.onCancel,this)):this.icon.getComponent(o).spriteFrame=null},s.update=function(e){switch(this.isGearReady||this.GearCD(e),this.gear.activeType){case m.Active:0==this.isGearReady?this.icon.getComponent(o).grayscale=!0:this.icon.getComponent(o).grayscale=!1;case m.Toggle:1==this.gearToggle?this.icon.getComponent(o).color=u.YELLOW:this.icon.getComponent(o).color=u.WHITE}},s.onPress=function(){var e=this;this.longPressTimer=setTimeout((function(){e.onLongPress()}),500)},s.onCancel=function(){this.longPressTimer&&clearTimeout(this.longPressTimer),this.longPressTimer=null},s.onRelease=function(){switch(this.onCancel(),this.gear.activeType){case m.Toggle:this.Active(),this.player.capacity>=this.gear.capacityCost&&(this.gearToggle=!this.gearToggle,console.log("Gear Toggle "+this.gearToggle));break;case m.Active:this.Active();break;case m.Passive:}},s.onLongPress=function(){console.info("LongPressed");var e=y(this.gearDescPre);e.setParent(f("Canvas/PopUpUI")),e.getComponent(v).GetItem(this.gear)},s.Active=function(){if(0!=this.isGearReady){if(this.player.capacity<this.gear.capacityCost)return console.log("Insufficient capacity"),void(this.gearToggle=!1);this.player.capacity-=this.gear.capacityCost,this.psBar.fillRange=0,this.player.ActiveGear(this.gearNumber),this.isGearReady=!1}else console.log("Gear recharging")},s.GearCD=function(e){this.psBar.fillRange=Math.min(this.psBar.fillRange+1/this.CD*e,1),this.psBar.fillRange>=1&&(this.isGearReady=!0,this.psBar.fillRange=0,this.gearToggle?(this.Active(),console.log("Gear autoActive")):console.log("Gear ready"))},s.onDisable=function(){this.icon.off(l.EventType.TOUCH_START,this.onPress,this),this.icon.off(l.EventType.TOUCH_END,this.onRelease,this),this.icon.off(l.EventType.TOUCH_MOVE,this.onCancel,this)},t}(T)).prototype,"psBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(A.prototype,"icon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(A.prototype,"gearNumber",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(A.prototype,"gearDescPre",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=A))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/Gears.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entity.ts","./CombatManager.ts","./HealthBarUIManager.ts","./PlayerStatsManager.ts"],(function(e){var t,i,a,n,s,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,a=e._decorator},function(e){n=e.EntityType},function(e){s=e.CombatManager},function(e){r=e.HealthBarUIManager},function(e){o=e.PlayerStatsManager}],execute:function(){i._RF.push({},"4e1bcIs4iNG7ruHIUN3ezGr","Gears",void 0);a.ccclass,a.property;var l=e("GearActiveTypes",function(e){return e[e.Passive=0]="Passive",e[e.Toggle=1]="Toggle",e[e.Active=2]="Active",e}({})),c=e("EquipmentSize",function(e){return e[e.S=0]="S",e[e.M=1]="M",e[e.L=2]="L",e}({})),u=e("Gear",function(){function e(e,t,i,a,n,s,r,o,l,c,u,h){this.name=void 0,this.techLevel=void 0,this.id=void 0,this.image=void 0,this.size=void 0,this.activeType=void 0,this.value_1=void 0,this.value_2=void 0,this.coolDown=void 0,this.capacityCost=void 0,this.CPU=void 0,this.gearMods=[],this.name=e,this.id=t,this.techLevel=i,this.image=a,this.size=n,this.activeType=s,this.value_1=r,this.value_2=o,this.coolDown=l,this.capacityCost=c,this.CPU=u,h&&(this.gearMods=h)}return e.prototype.applyFunc=function(e){},e}());e("GearList",function(){function e(){this.S1_ShieldRepair=new h("S1_ShieldRepair",101,1,"Icon_ShieldRepair",c.S,l.Toggle,26,0,2,20,5,[]),this.S1_ShieldBooster=new y("S1 Small Shield Booster",102,1,"Icon_ShieldBooster",c.S,l.Active,50,10,20,10,10,[]),this.S1_ShieldExtender=new _("Small Shield Extender",103,1,"Icon_ShieldExtender",c.S,l.Passive,0,0,0,0,10,[{key:"shieldAmp",value:400}]),this.S1_ShieldHardner=new v("S1 Shield Hardner",104,1,"Icon_ShieldERes",c.S,l.Toggle,.1,0,10,10,5,[{key:"shieldEResMod",value:.1},{key:"shieldTResMod",value:.1},{key:"shieldKResMod",value:.1}]),this.S1_CapacitorBooster=new p("S1 Small Capacitor Booster",105,1,"Icon_CapacitorBooster",c.S,l.Active,30,10,20,0,10,[]),this.S1_CapacitorBattery=new f("S1 Small Capacitor Battery",106,1,"Icon_CapacitorBattery",c.S,l.Passive,0,0,0,0,10,[{key:"capacityAmp",value:120}]),this.S1_ThrusterBoost=new d("S1 Small Thruster Booster",107,1,"Icon_ThrusterBooster",c.S,l.Toggle,.2,300,10,10,10,[]),this.S1_LaserUpgrade=new g("S1 Laser Upgrade",108,1,"Icon_WeaponUpgrade",c.S,l.Active,.3,10,20,10,10,[{key:"laserFireRateMod",value:.05},{key:"laserDamageMinMod",value:.1},{key:"laserDamageMaxMod",value:.1}]),this.S1_ArtilleryUpgrade=new g("S1 Artillery Upgrade",109,1,"Icon_WeaponUpgrade",c.S,l.Active,.3,10,20,10,10,[{key:"artilleryFireRateMod",value:.05},{key:"artilleryDamageMinMod",value:.1},{key:"artilleryDamageMaxMod",value:.1}]),this.S1_MissileUpgrade=new g("S1 Missile Upgrade",110,1,"Icon_WeaponUpgrade",c.S,l.Active,.3,10,20,10,10,[{key:"missileFireRateMod",value:.05},{key:"missileDamageMinMod",value:.1},{key:"missileDamageMaxMod",value:.1}]),this.S1_TrackingComputer=new S("S1 Tracking Computer",111,1,"Icon_TrackingComputer",c.S,l.Active,.5,10,20,10,10,[{key:"laserTrackingSpeedMod",value:.1},{key:"artilleryTrackingSpeedMod",value:.1}])}return e.GetInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.findGearinList=function(e){for(var t=0,i=Object.keys(this);t<i.length;t++){var a=i[t];if(this[a].name===e)return this[a]}},e}()).instance=void 0;var h=e("ShieldRepair",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.applyFunc=function(e){if(!(e.shield>=e.shieldMax)){var t=o.getInstance();e.shield=Math.min(e.shield+this.value_1*t.shieldRepMod,e.shieldMax),r.instance.updateBar(e,"shield"),s.instance.SpawnDamageLabel(n.player,this.value_1),console.log(e.name+" Gear Active "+this.value_1+" Shield")}},i}(u)),p=e("CapacitorBooster",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.applyFunc=function(e){var t=this,i=e.capacity;e.capacity=Math.min(e.capacity+this.value_1,e.capacityMax),setTimeout((function(){e&&e.capacity&&e.capacity>i&&(e.capacity-i>=t.value_1?e.capacity-=t.value_1:e.capacity=i)}),1e3*this.value_2),console.log(e.name+" Gear Active "+this.value_1+" Capacity")},i}(u)),d=e("ThrusterBoost",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.applyFunc=function(e){var t=this.value_1,i=this.value_2,a=e.hullMax;a>i&&(t=this.value_1*(i/a));var n=o.getInstance();n.speedMod*=1+t,setTimeout((function(){n.speedMod/=1+t}),1e3*this.coolDown-50),console.log(e.name+" Gear Active Speed:")},i}(u)),v=e("DefenceHardner",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.applyFunc=function(e){var t=this,i=o.getInstance(),a=this.gearMods[0].key,n=this.gearMods[1].key,s=this.gearMods[2].key;i[a]*=1+this.value_1,i[n]*=1+this.value_1,i[s]*=1+this.value_1,setTimeout((function(){i[a]/=1+t.value_1,i[n]/=1+t.value_1,i[s]/=1+t.value_1}),1e3*this.coolDown-100),console.log(e.name+" Gear Active Shield Hardner: "+i[a])},i}(u)),y=e("ShieldBooster",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.applyFunc=function(e){var t=this,i=(o.getInstance(),e.shield);e.shield+=this.value_1,r.instance.updateBar(e,"shield"),setTimeout((function(){e.shield<=i||(e.shield>i+t.value_1?e.shield-=t.value_1:e.shield=i,r.instance.updateBar(e,"shield"))}),1e3*this.value_2),console.log(e.name+" Gear Active Shield Booster: ")},i}(u)),S=e("TrackingComputer",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.applyFunc=function(e){var t=this,i=o.getInstance();i.laserTrackingSpeedMod*=1+this.value_1,i.artilleryTrackingSpeedMod*=1+this.value_1,setTimeout((function(){i.laserTrackingSpeedMod/=1+t.value_1,i.artilleryTrackingSpeedMod/=1+t.value_1}),1e3*this.value_2)},i}(u)),g=e("WeaponUpgrade",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.applyFunc=function(e){var t=this,i=o.getInstance(),a=this.gearMods[0].key;i[a]*=1+this.value_1,setTimeout((function(){i[a]/=1+t.value_1}),1e3*this.value_2)},i}(u)),_=e("ShieldExtender",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i}(u)),f=e("CapacitorBattery",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/GearsUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStatsManager.ts","./GearControl.ts","./WeaponFireCDControl.ts"],(function(e){var t,a,n,r,o,i,l,s,p,u,c,y,g,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Prefab,s=e.Node,p=e.instantiate,u=e.UITransform,c=e.Size,y=e.Component},function(e){g=e.PlayerStatsManager},function(e){f=e.GearControl},function(e){h=e.WeaponFireCDControl}],execute:function(){var w,b,C,v,I,L,S,m,z,D,d;o._RF.push({},"bc2e0c0yDRGlLaHlo40v/nL","GearsUIManager",void 0);var G=i.ccclass,M=i.property;e("GearsUIManager",(w=G("GearsUIManager"),b=M(l),C=M(l),v=M(s),I=M(s),w((m=t((S=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"gearIcon",m,r(t)),n(t,"weaponCDIcon",z,r(t)),n(t,"weaponLayout",D,r(t)),n(t,"gearLayout",d,r(t)),t.player=void 0,t}a(t,e);var o=t.prototype;return o.start=function(){this.player=g.getInstance().player,this.SpawnIcons(),this.SetLayoutSize(this.weaponLayout),this.SetLayoutSize(this.gearLayout)},o.SpawnIcons=function(){for(var e=1;e<=7;e++)if(this.player["weapon_"+e]){var t=p(this.weaponCDIcon);t.setParent(this.weaponLayout),t.getComponent(h).WeaponNo=e}for(var a=1;a<=7;a++)if(this.player["gear_"+a]){var n=p(this.gearIcon);n.setParent(this.gearLayout),n.getComponent(f).gearNumber=a}},o.SetLayoutSize=function(e){var t=e.children.length;if(t<=4){var a=60*t+10*(t-1);e.getComponent(u).setContentSize(new c(a,60))}else e.getComponent(u).setContentSize(new c(270,60))},t}(y)).prototype,"gearIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(S.prototype,"weaponCDIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(S.prototype,"weaponLayout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(S.prototype,"gearLayout",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=S))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/HangerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStatsManager.ts","./EventManager.ts"],(function(e){var t,n,i,a,r,s,o,c,l,_,p,u,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.Sprite,c=e.ProgressBar,l=e.resources,_=e.SpriteFrame,p=e.tween,u=e.Component},function(e){h=e.PlayerStatsManager},function(e){g=e.EventManager}],execute:function(){var f,U,P,G,C,I,m,d;r._RF.push({},"8217cWVwOJMFoIwO08kiEu4","HangerUI",void 0);var v=s.ccclass,y=s.property,R=e("SlotSelection",function(e){return e[e.none=0]="none",e[e.W_1=1]="W_1",e[e.W_2=2]="W_2",e[e.W_3=3]="W_3",e[e.W_4=4]="W_4",e[e.W_5=5]="W_5",e[e.W_6=6]="W_6",e[e.W_7=7]="W_7",e[e.W_8=8]="W_8",e[e.G_1=101]="G_1",e[e.G_2=102]="G_2",e[e.G_3=103]="G_3",e[e.G_4=104]="G_4",e[e.G_5=105]="G_5",e[e.G_6=106]="G_6",e[e.G_7=107]="G_7",e[e.R_1=1001]="R_1",e[e.R_2=1002]="R_2",e[e.R_3=1003]="R_3",e[e.R_4=1004]="R_4",e[e.R_5=1005]="R_5",e[e.R_6=1006]="R_6",e[e.R_7=1007]="R_7",e}({}));e("HangerUI",(f=v("HangerUI"),U=y(o),P=y(c),f(((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"shipImage",I,a(t)),i(t,"CPUPsBar",m,a(t)),t.selectedSlot=void 0,t.ship=void 0,t.lastcpu=0,t.lastcpuMax=0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){t.instance=this},r.start=function(){g.on("InitializeHanger",this.init,this),this.init(),h.getInstance().init()},r.update=function(e){this.UpdateCPUBar()},r.init=function(){var e=this;this.selectedSlot=R.none,this.ship=h.getInstance().player.ship,console.info("HangerUI init"),this.ship?l.load(this.ship.image+"/spriteFrame",_,(function(t,n){e.shipImage.spriteFrame=n})):this.shipImage.spriteFrame=null},r.GetCPU=function(){var e=h.getInstance().player;if(!h.getInstance().player.ship)return 0;for(var t=0,n=1;n<=7;n++)e["weapon_"+n]&&(t+=e["weapon_"+n].CPU);for(var i=1;i<=7;i++)e["gear_"+i]&&(t+=e["gear_"+i].CPU);return t},r.GetCPUMax=function(){return h.getInstance().player.ship?h.getInstance().player.CPUMax:1},r.GetCPURemaining=function(){return this.GetCPUMax()-this.GetCPU()},r.UpdateCPUBar=function(){this.GetCPU()==this.lastcpu&&this.GetCPUMax()==this.lastcpuMax||(this.CheckForOverload(),p(this.CPUPsBar).to(.3,{progress:this.GetCPU()/this.GetCPUMax()}).start(),this.lastcpu=this.GetCPU(),this.lastcpuMax=this.GetCPUMax())},r.CheckForOverload=function(){if(this.GetCPURemaining()<0)for(var e=h.getInstance().player,t=1;t<7;t++){if(e["gear_"+t])return g.emit("ErrorMessage","Insufficient CPU, Uninstalled "+e["gear_"+t].name),void g.emit("UnInstallItem","gear_"+t);if(e["weapon_"+t])return g.emit("ErrorMessage","Insufficient CPU, Uninstalled "+e["weapon_"+t].name),void g.emit("UnInstallItem","weapon_"+t)}},t}(u)).instance=void 0,I=t((C=d).prototype,"shipImage",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(C.prototype,"CPUPsBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=C))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/HealthBarUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entity.ts","./PlayerStatsManager.ts","./EnemyManager.ts","./RoundBarControl.ts"],(function(e){var t,r,a,i,l,n,s,o,p,u,y,h,c,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,s=e.ProgressBar,o=e.Label,p=e.Node,u=e.tween,y=e.Component},function(e){h=e.EntityType},function(e){c=e.PlayerStatsManager},function(e){d=e.EnemyManager},function(e){m=e.RoundBarControl}],execute:function(){var b,g,f,B,S,M,w,z,C,v,_,x,I,E,L,P,U,H,R,D,N,k,F,A,T,j,G,J;l._RF.push({},"c1b22v77dtBMJh9Rn06Av9+","HealthBarUIManager",void 0);var q=n.ccclass,K=n.property;e("HealthBarUIManager",(b=q("HealthBarUIManager"),g=K(s),f=K(s),B=K(o),S=K(s),M=K(s),w=K(s),z=K(s),C=K(o),v=K(p),_=K(p),x=K(p),I=K(o),b(((J=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,a(t,"enemyShield",P,i(t)),a(t,"enemyStructure",U,i(t)),a(t,"enemyName",H,i(t)),a(t,"playerShield",R,i(t)),a(t,"playerShieldBoost",D,i(t)),a(t,"playerStructure",N,i(t)),a(t,"playerCapacity",k,i(t)),a(t,"playername",F,i(t)),a(t,"playerShieldBar_round",A,i(t)),a(t,"playerStructureBar_round",T,i(t)),a(t,"playerCapacityBar_round",j,i(t)),a(t,"speedLabel",G,i(t)),t.player=void 0,t.enemy=void 0,t}r(t,e);var l=t.prototype;return l.onLoad=function(){t.instance=this},l.start=function(){},l.init=function(){this.player=c.getInstance().player,this.updateBar(this.player,"shield"),this.updateBar(this.player,"hull"),this.playername.string=this.player.name,this.enemy=d.instance.GetCurrentEnemy(),this.updateBar(this.enemy,"shield"),this.updateBar(this.enemy,"hull"),this.enemy&&(this.enemyName.string=this.enemy.name,console.info("healthbar initialized, enemy:  "+this.enemy.name)),this.updateBooster()},l.update=function(e){this.player&&this.enemy&&this.updateUI()},l.updateUI=function(){this.speedLabel.string="SPEED: "+this.player.getSpeed().toFixed(0),this.playerCapacity.progress=this.player.capacity/this.player.capacityMax,this.playerStructureBar_round.getComponent(m).progress=this.playerStructure.progress,this.playerShieldBar_round.getComponent(m).progress=this.playerShield.progress,this.playerCapacityBar_round.getComponent(m).progress=this.playerCapacity.progress},l.updateBar=function(e,t){var r,a,i;if(e){if(e.type!=h.player)switch(t){case"shield":r=this.enemyShield,a=this.enemy.shield,i=this.enemy.shieldMax;break;case"hull":r=this.enemyStructure,a=this.enemy.hull,i=this.enemy.hullMax}else switch(t){case"shield":r=this.playerShield,a=this.player.shield,i=this.player.shieldMax,this.updateBooster();break;case"hull":r=this.playerStructure,a=this.player.hull,i=this.player.hullMax}u(r).to(.3,{progress:a/i}).start()}},l.updateBooster=function(){u(this.playerShieldBoost).to(.3,{progress:Math.max(this.player.shield-this.player.shieldMax,0)/this.player.shieldMax}).start()},t}(y)).instance=void 0,P=t((L=J).prototype,"enemyShield",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(L.prototype,"enemyStructure",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(L.prototype,"enemyName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(L.prototype,"playerShield",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(L.prototype,"playerShieldBoost",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(L.prototype,"playerStructure",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(L.prototype,"playerCapacity",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(L.prototype,"playername",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(L.prototype,"playerShieldBar_round",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(L.prototype,"playerStructureBar_round",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(L.prototype,"playerCapacityBar_round",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(L.prototype,"speedLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=L))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/Inventory.ts",["cc","./InventoryUI.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.cclegacy,e=t._decorator},function(t){i=t.InventoryUI}],execute:function(){n._RF.push({},"3c5f4kxRnROyrmSuUPLxNOi","Inventory",void 0);e.ccclass,e.property;t("Inventory",function(){function t(){this.items=[]}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.addItem=function(t){var n=this.items.find((function(n){return n.id===t.id}));n?(n.quantity+=t.quantity,i.Instance.UpdateItem(n.id,n.quantity),t=null):(this.items.push(t),i.Instance.CreateItem(t.id,t.quantity))},n.removeItem=function(t,n){var e=this.items.findIndex((function(n){return n.id===t}));-1!==e&&(this.items[e].quantity>n?(this.items[e].quantity-=n,i.Instance.UpdateItem(e,this.items[e].quantity)):(this.items.splice(e,1),i.Instance.removeItem(e)))},n.checkItem=function(t){return this.items.some((function(n){return n.id===t}))},n.listItems=function(){return this.items},t}()).instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/InventoryUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemIcon.ts"],(function(t){var e,n,i,o,r,a,s,c,m,u,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.SpriteFrame,c=t.Prefab,m=t.instantiate,u=t.Component},function(t){I=t.ItemIcon}],execute:function(){var l,p,f,h,g,y,v,d;r._RF.push({},"c54f2kCQNJBj6+jJWYN1lnO","InventoryUI",void 0);var b=a.ccclass,C=a.property;t("InventoryUI",(l=b("InventoryUI"),p=C([s]),f=C(c),l(((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"itemImages",y,o(e)),i(e,"itemPrefab",v,o(e)),e.itemIcons=[],e}n(e,t);var r=e.prototype;return r.onLoad=function(){e.Instance=this},r.start=function(){},r.update=function(t){},r.CreateItem=function(t,e){if(t<this.itemImages.length){var n=m(this.itemPrefab);n.setParent(this.node),n.getComponent(I).SetImage(this.itemImages[t]),n.getComponent(I).SetQuantity(e),n.getComponent(I).SetId(t),this.itemIcons.push(n.getComponent(I))}},r.UpdateItem=function(t,e){var n=this.itemIcons.find((function(e){return e.id===t}));n&&(n.SetQuantity(e),0===e&&this.removeItem(t))},r.removeItem=function(t){t<this.itemIcons.length&&(this.itemIcons[t].node.destroy(),this.itemIcons.splice(t,1))},e}(u)).Instance=void 0,y=e((g=d).prototype,"itemImages",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(g.prototype,"itemPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemDescUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Weapon.ts","./HangerUI.ts","./EventManager.ts","./Gears.ts","./LabelAndValueControl.ts","./Rigs.ts","./RandomSeed.ts","./LineDrawier.ts"],(function(e){var t,a,i,l,n,s,r,o,b,c,u,p,h,d,_,m,f,g,C,L,v,y,D,w,R,S,U,I,P,T,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,b=e.Node,c=e.Label,u=e.resources,p=e.SpriteFrame,h=e.Sprite,d=e.Component},function(e){_=e.Weapon},function(e){m=e.HangerUI,f=e.SlotSelection},function(e){g=e.EventManager},function(e){C=e.Gear,L=e.ShieldRepair,v=e.CapacitorBooster,y=e.ThrusterBoost,D=e.ShieldBooster,w=e.ShieldExtender,R=e.DefenceHardner,S=e.WeaponUpgrade,U=e.TrackingComputer},function(e){I=e.LabelAndValueControl},function(e){P=e.Rig},function(e){T=e.SeededRandom},function(e){M=e.DrawLines}],execute:function(){var A,x,z,k,B,F,H,q,E,N,G,W,O,V,j,J,K,Q,X,Y,Z,$,ee,te,ae;r._RF.push({},"c0dc6DWEE1Ee7pPnCtCNlPn","ItemDescUI",void 0);var ie=o.ccclass,le=o.property;e("ItemDescUI",(A=ie("ItemDescUI"),x=le(b),z=le(c),k=le(I),B=le(I),F=le(I),H=le(I),q=le(I),E=le(I),N=le(c),G=le(b),W=le(b),A((j=t((V=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,i(t,"image",j,l(t)),i(t,"nameLabel",J,l(t)),i(t,"label_1",K,l(t)),i(t,"label_2",Q,l(t)),i(t,"label_3",X,l(t)),i(t,"label_4",Y,l(t)),i(t,"label_5",Z,l(t)),i(t,"label_6",$,l(t)),i(t,"priceTag",ee,l(t)),i(t,"lineDrawer",te,l(t)),i(t,"installButton",ae,l(t)),t.item=void 0,t.installAble=!1,t}a(t,e);var r=t.prototype;return r.start=function(){var e=this;this.node.on(b.EventType.TOUCH_START,(function(){e.CloseUI()})),this.installButton.active=this.installAble&&m.instance.selectedSlot!==f.none},r.GetItem=function(e){var t=this;if(this.item=e,u.load(this.item.image+"/spriteFrame",p,(function(e,a){t.image.getComponent(h).spriteFrame=a})),this.DisplayMarket(),this.nameLabel.string=e.name,e instanceof _&&(this.label_1.setLabel("Damage:",e.damageMin+" - "+e.damageMax),this.label_2.setLabel("Fire Rate:",e.fireRate+" s"),this.label_3.setLabel("DPS:",((e.damageMin+e.damageMax)/2/e.fireRate).toFixed(1)+" hp/s"),this.label_4.setLabel("Tracking Speed:",""+e.trackingSpeed),this.label_5.setLabel("Capacity Cost:",""+e.capacityCost),this.label_6.setLabel("CPU Required:",""+e.CPU)),e instanceof C&&(e instanceof L&&(this.label_1.setLabel("Shield Repair:",e.value_1+" hp"),this.label_2.setLabel("CoolDown:",e.coolDown+" s"),this.label_4.setLabel("Capacity Cost:",""+e.capacityCost),this.label_5.setLabel("CPU Required:",""+e.CPU)),e instanceof v&&(this.label_1.setLabel("Capacitor Increase:",""+e.value_1),this.label_2.setLabel("Activation Time:",e.value_2+" s"),this.label_3.setLabel("CoolDown:",e.coolDown+" s"),this.label_5.setLabel("CPU Required:",""+e.CPU)),e instanceof y&&(this.label_1.setLabel("Speed Multiplier:",100*e.value_1+"%"),this.label_2.setLabel("Support Hull",e.value_2+" hp"),this.label_3.setLabel("Activation Time:",e.coolDown+" s"),this.label_4.setLabel("Capacity Cost:",""+e.capacityCost),this.label_5.setLabel("CPU Required:",""+e.CPU)),e instanceof D&&(this.label_1.setLabel("Shield increase:",e.value_1+" hp"),this.label_2.setLabel("Active Duration:",e.value_2+" s"),this.label_3.setLabel("CoolDown:",e.coolDown+" s"),this.label_4.setLabel("Capacity Cost:",""+e.capacityCost),this.label_5.setLabel("CPU Required:",""+e.CPU)),e instanceof w&&this.label_1.setLabel(""+e.gearMods[0].key,e.gearMods[0].value+" hp"),e instanceof R&&(this.label_1.setLabel("Resistance Increase:",100*e.gearMods[0].value+"%"),this.label_2.setLabel("Active Bonus:",100*e.value_1+"%"),this.label_3.setLabel("CoolDown:",e.coolDown+" s"),this.label_4.setLabel("Capacity Cost:",""+e.capacityCost),this.label_5.setLabel("CPU Required:",""+e.CPU)),e instanceof S&&(this.label_1.setLabel("FireRate Increase:",100*e.gearMods[0].value+"%"),this.label_2.setLabel("Active Bonus:",100*e.value_1+"%"),this.label_3.setLabel("Active Duration:",e.value_2+" s"),this.label_4.setLabel("CoolDown:",e.coolDown+" s"),this.label_5.setLabel("Capacity Cost:",""+e.capacityCost),this.label_6.setLabel("CPU Required:",""+e.CPU)),e instanceof U&&(this.label_1.setLabel("TrackingSpeed Increase:",100*e.gearMods[0].value+"%"),this.label_2.setLabel("Active Bonus:",100*e.value_1+"%"),this.label_3.setLabel("Active Duration:",e.value_2+" s"),this.label_4.setLabel("CoolDown:",e.coolDown+" s"),this.label_5.setLabel("Capacity Cost:",""+e.capacityCost),this.label_6.setLabel("CPU Required:",""+e.CPU))),e instanceof P)for(var a=0;a<e.rigMods.length;a++)this["label_"+(a+1)].setLabel(""+e.rigMods[a].key,(100*e.rigMods[a].value).toFixed(2)+"%")},r.DisplayMarket=function(){var e=this,t=this.item.id;T.generateSeededRandomNumber(t,0).then((function(t){e.priceTag.string=(100*t).toFixed(2).toString()+"%"})),this.generatePriceHistory(this.item).then((function(t){e.lineDrawer.getComponent(M).DrawLines(t)}))},r.generatePriceHistory=function(){var e=n(s().mark((function e(t){var a,i,l,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.generateSeededRandomNumber(t.id,-4);case 2:return a=e.sent,e.next=5,T.generateSeededRandomNumber(t.id,-3);case 5:return i=e.sent,e.next=8,T.generateSeededRandomNumber(t.id,-2);case 8:return l=e.sent,e.next=11,T.generateSeededRandomNumber(t.id,-1);case 11:return n=e.sent,e.next=14,T.generateSeededRandomNumber(t.id,0);case 14:return r=e.sent,e.abrupt("return",[a,i,l,n,r]);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.InstallItem=function(){var e=m.instance.selectedSlot;this.item instanceof _&&g.emit("InstallItem","weapon_"+e,this.item),this.item instanceof C&&g.emit("InstallItem","gear_"+(e-100),this.item),this.item instanceof P&&g.emit("InstallItem","rig_"+(e-1e3),this.item),this.CloseUI()},r.CloseUI=function(){this.node.destroy()},r.onDestroy=function(){var e=this;this.node.off(b.EventType.TOUCH_START,(function(){e.CloseUI()}))},t}(d)).prototype,"image",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(V.prototype,"nameLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(V.prototype,"label_1",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(V.prototype,"label_2",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(V.prototype,"label_3",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(V.prototype,"label_4",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(V.prototype,"label_5",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(V.prototype,"label_6",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(V.prototype,"priceTag",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(V.prototype,"lineDrawer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(V.prototype,"installButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=V))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,c,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,u=t.Sprite,s=t.Component}],execute:function(){var l,p,f,m,y;o._RF.push({},"4ffe8X5VgNPQKji7X4bA1xC","ItemIcon",void 0);var I=a.ccclass,d=a.property;t("ItemIcon",(l=I("ItemUI"),p=d(c),l((y=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"itemQuantity",y,r(e)),e.id=void 0,e}i(e,t);var o=e.prototype;return o.SetId=function(t){this.id=t},o.SetImage=function(t){this.node.getComponent(u).spriteFrame=t},o.SetQuantity=function(t){this.itemQuantity.string=t.toString()},e}(s)).prototype,"itemQuantity",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemIconControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Weapon.ts","./ItemDescUI.ts","./Gears.ts","./HangerUI.ts","./Rigs.ts"],(function(e){var t,i,n,r,o,a,s,c,l,u,m,p,f,h,I,g,b,v,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Prefab,c=e.Label,l=e.resources,u=e.SpriteFrame,m=e.Sprite,p=e.instantiate,f=e.find,h=e.Component},function(e){I=e.Weapon},function(e){g=e.ItemDescUI},function(e){b=e.EquipmentSize,v=e.Gear},function(e){y=e.HangerUI},function(e){C=e.Rig}],execute:function(){var z,L,S,d,D,P,U,w,F,M,G;o._RF.push({},"aa4bdLw+eBCG44VC3E7yZm0","ItemIconControl",void 0);var R=a.ccclass,X=a.property;e("ItemIconControl",(z=R("ItemIconControl"),L=X(s),S=X(c),d=X(c),D=X(c),z((w=t((U=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"ItemDescUIPre",w,r(t)),n(t,"quantity",F,r(t)),n(t,"itemSize",M,r(t)),n(t,"techLevel",G,r(t)),t.item=null,t}i(t,e);var o=t.prototype;return o.start=function(){this.init()},o.init=function(){var e=this;switch(l.load(this.item.image+"/spriteFrame",u,(function(t,i){e.node.getComponent(m).spriteFrame=i})),this.item.size){case b.S:this.itemSize.string="S";break;case b.M:this.itemSize.string="M";break;case b.L:this.itemSize.string="L"}this.techLevel.string=function(e){for(var t=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],i=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],n="",r=0;r<t.length;r++)for(;e>=t[r];)n+=i[r],e-=t[r];return n}(this.item.techLevel)},o.onPress=function(){var e=y.instance.selectedSlot,t=p(this.ItemDescUIPre);if(t.setParent(f("Canvas/PopUpUI")),t.getComponent(g).GetItem(this.item),y.instance){if(this.item instanceof I&&(0==e||e>100))return;if(this.item instanceof v&&(0==e||e<100))return;if(this.item instanceof C&&(0==e||e<1e3))return;t.getComponent(g).installAble=!0}},t}(h)).prototype,"ItemDescUIPre",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(U.prototype,"quantity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(U.prototype,"itemSize",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(U.prototype,"techLevel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=U))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,i=t.Component}],execute:function(){var a;n._RF.push({},"a785bT4wKVKapzFf1hHTNWl","ItemManager",void 0);var o=r.ccclass;r.property,t("Item",(function(t,e,n){this.id=t,this.name=e,this.quantity=n})),t("ItemType",function(t){return t[t.Fe=0]="Fe",t[t.Si=1]="Si",t[t.Ur=2]="Ur",t}({})),t("ItemManager",o("ItemManager")(a=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/JobSelection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemManager.ts"],(function(e){var t,i,o,n,r,l,a,c,b,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Label,c=e.Component},function(e){b=e.Item,s=e.ItemType}],execute:function(){var d,u,h,p,J,S,f,m;r._RF.push({},"2efe8EVDbJNO5Vx6evrJT2P","JobSelection",void 0);var _=l.ccclass,j=l.property,v=e("Jobs_Mining",(function(e,t,i,o){this.name=void 0,this.id=void 0,this.time=void 0,this.reward=void 0,this.name=e,this.id=t,this.time=i,this.reward=o}));e("JobSelection",(d=_("JobSelection"),u=j(a),h=j(a),d(((m=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"jobSelectedLabel",S,n(t)),o(t,"jobTimeRequiredLabel",f,n(t)),t.Job_A=new v("JobA",1,3,new b(s.Fe,"Iron",1)),t.Job_B=new v("JobB",2,6,new b(s.Si,"Silicone",1)),t.Job_C=new v("JobC",3,9,new b(s.Ur,"Uranium",1)),t.jobSelected=void 0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){t.Instance=this},r.start=function(){this.jobSelected=this.Job_A},r.LabelUpdate=function(){this.jobSelectedLabel.string=this.jobSelected.name,this.jobTimeRequiredLabel.string=this.jobSelected.time+""},r.JobSelected_A=function(){this.jobSelected=this.Job_A,this.LabelUpdate()},r.JobSelected_B=function(){this.jobSelected=this.Job_B,this.LabelUpdate()},r.JobSelected_C=function(){this.jobSelected=this.Job_C,this.LabelUpdate()},t}(c)).Instance=void 0,S=t((J=m).prototype,"jobSelectedLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(J.prototype,"jobTimeRequiredLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=J))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/LabelAndValueControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,l,i,r,o,a,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Label,u=e.Component}],execute:function(){var c,s,p,b,d,f,h;r._RF.push({},"ca4eciNhgJDQox4yusDd3ei","LabelAndValueControl",void 0);var v=o.ccclass,y=o.property;e("LabelAndValueControl",(c=v("LabelAndValueControl"),s=y(a),p=y(a),c((f=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l(t,"label",f,i(t)),l(t,"value",h,i(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.node.active=!1},r.setLabel=function(e,t){this.node.active=!0,this.label.string=e,this.value.string=t},r.LabelOff=function(){this.node.destroy()},t}(u)).prototype,"label",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(d.prototype,"value",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LaserControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,s,r,a,i,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.UITransform,r=t.Size,a=t.tween,i=t.UIOpacity,c=t.Component}],execute:function(){var h;e._RF.push({},"82880RUxatPRKKOFJBcevlB","LaserControl",void 0);var l=n.ccclass;n.property,t("LaserControl",l("LaserControl")(h=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(o=t.call.apply(t,[this].concat(n))||this).startPos=void 0,o.endPos=void 0,o.destroyDistance=10,o}o(e,t);var n=e.prototype;return n.SetPos=function(t,o){this.startPos=t,this.endPos=o},n.start=function(){var t=this;this.faceTowards(this.endPos);var o=this.startPos.clone().subtract(this.endPos).length();this.node.getComponent(s).setContentSize(new r(this.node.getComponent(s).width,o-this.destroyDistance)),a(this.node.getComponent(i)).to(1,{opacity:0}).call((function(){t.node.destroy()})).start()},n.faceTowards=function(t){var o=t.clone().subtract(this.node.position),e=Math.atan2(o.y,o.x)*(180/Math.PI)-90;this.node.setRotationFromEuler(0,0,e)},e}(c))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/LineDrawier.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o,a,s,c,l,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Vec2,c=e.Graphics,l=e.Node,u=e.Label,p=e.Component}],execute:function(){var d,f,h,w;o._RF.push({},"da57donUSxPbZ7zOXKsNGfN","LineDrawier",void 0);var y=a.ccclass,g=a.property;e("DrawLines",y("DrawLines")((h=n((f=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,t(n,"lineThickness",h,r(n)),t(n,"pointRadius",w,r(n)),n}i(n,e);var o=n.prototype;return o.start=function(){},o.DrawLines=function(e){var n=this,i=[new s(-100,10*e[0]*25),new s(-50,10*e[1]*25),new s(0,10*e[2]*25),new s(50,10*e[3]*25),new s(100,10*e[4]*25)],t=this.getComponent(c);t&&(t.lineWidth=this.lineThickness,t.moveTo(i[0].x,i[0].y),i.forEach((function(r,o){t.circle(r.x,r.y,n.pointRadius),t.fill();var a=new l,s=a.addComponent(u);s.string=(100*e[o]).toFixed(2).toString()+"%",s.fontSize=10,n.node.addChild(a),a.setPosition(r.x,r.y+10),o<i.length-1&&(t.lineTo(i[o+1].x,i[o+1].y),t.stroke())})))},n}(p)).prototype,"lineThickness",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=n(f.prototype,"pointRadius",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),d=f))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,n,o,t,a,i,s,c,l,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,o=r.initializerDefineProperty,t=r.assertThisInitialized},function(r){a=r.cclegacy,i=r._decorator,s=r.ProgressBar,c=r.Label,l=r.director,p=r.Component}],execute:function(){var u,g,d,f,h,b,L;a._RF.push({},"b3504Xn8shEnI224MbT6S4F","LoadingBar",void 0);var y=i.ccclass,v=i.property;r("SceneLoader",(u=y("SceneLoader"),g=v(s),d=v(c),u((b=e((h=function(r){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=r.call.apply(r,[this].concat(a))||this,o(e,"progressBar",b,t(e)),o(e,"progressLabel",L,t(e)),e}n(e,r);var a=e.prototype;return a.start=function(){this.preloadScene("MainMenu")},a.preloadScene=function(r){var e=this;l.preloadScene(r,(function(r,n,o){e.updateProgress(r,n)}),(function(e){e?console.error("Failed to load scene: "+r):l.loadScene(r)}))},a.updateProgress=function(r,e){var n=r/e;this.progressBar&&(this.progressBar.progress=n),this.progressLabel&&(this.progressLabel.string="Loading... "+Math.round(100*n)+"%")},e}(p)).prototype,"progressBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(h.prototype,"progressLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BluePrintsManager.ts","./ClickShowStatsBoard.ts","./CombatManager.ts","./CurrentJob.ts","./CurrentTime.ts","./DamageLabelControl.ts","./DebugBoard.ts","./EnemyFactory.ts","./EnemyFleetPreviewUIControl.ts","./EnemyGen.ts","./EnemyManager.ts","./Entity.ts","./ErrorMessageControl.ts","./GearControl.ts","./Gears.ts","./GearsUIManager.ts","./Armory.ts","./ArmoryUIManager.ts","./FittingSlotIcon.ts","./HangerUI.ts","./ItemDescUI.ts","./ItemIconControl.ts","./ShipDescUI.ts","./ShipItemControl.ts","./Inventory.ts","./InventoryUI.ts","./ItemIcon.ts","./ItemManager.ts","./JobSelection.ts","./LabelAndValueControl.ts","./LineDrawier.ts","./LoadingBar.ts","./EventManager.ts","./MessageRecv.ts","./MessageTest.ts","./PlayerStatsManager.ts","./RandomSeed.ts","./Rigs.ts","./RoundBarControl.ts","./SaveLoadManager.ts","./SceneSwitch.ts","./Ship.ts","./ShipUIControl.ts","./Skill.ts","./SkillDescUI.ts","./SkillIconControl.ts","./TimeManager.ts","./TrainingManager.ts","./TrainingUIManager.ts","./SliderControl.ts","./BGPlanetControl.ts","./BulletControl.ts","./HealthBarUIManager.ts","./LaserControl.ts","./MissileControl.ts","./StatsBoard.ts","./WeaponFireCDControl.ts","./Weapon.ts","./WeaponSFFactory.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MessageRecv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){var n,s,t,a,c;return{setters:[function(e){n=e.inheritsLoose},function(e){s=e.cclegacy,t=e._decorator,a=e.Component},function(e){c=e.EventManager}],execute:function(){var i,o;s._RF.push({},"94027fQH3hDF5rkE0tFQcGu","MessageRecv",void 0);var r=t.ccclass;t.property,e("MessageRecv",r("MessageRecv")(((o=function(e){function s(){return e.apply(this,arguments)||this}return n(s,e),s.getInstance=function(){return s.instance||(s.instance=new s,c.on("testMessage",this.instance.DisplayMessage,s.instance)),s.instance},s.prototype.DisplayMessage=function(e){console.log(e.message+" "+e.message2)},s.cleanup=function(){s.instance&&(c.off("testMessage",s.instance.DisplayMessage,s.instance),s.instance=null)},s}(a)).instance=void 0,i=o))||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/MessageTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./MessageRecv.ts"],(function(e){var s,t,n,a,o,c;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,a=e.Component},function(e){o=e.EventManager},function(e){c=e.MessageRecv}],execute:function(){var r;t._RF.push({},"fa9ffkWBZJLFJsS5R8MYAr1","MessageTest",void 0);var i=n.ccclass;n.property,e("MessageTest",i("MessageTest")(r=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.onLoad=function(){c.getInstance()},n.A=function(){o.emit("testMessage",{message:"A",message2:"AA"})},n.B=function(){o.emit("testMessage","B","BB")},t}(a))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/MissileControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,s,e,n,i,r,a,c,h;return{setters:[function(t){o=t.inheritsLoose},function(t){s=t.cclegacy,e=t._decorator,n=t.Vec3,i=t.randomRange,r=t.bezier,a=t.Sprite,c=t.ParticleSystem2D,h=t.Component}],execute:function(){var l;s._RF.push({},"34b01l9mVxBwod6WPIxV1/B","MissileControl",void 0);var d=e.ccclass;e.property,t("MissileControl",d("MissileControl")(l=function(t){function s(){for(var o,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this).duration=1,o.elapsed=0,o.startPos=void 0,o.endPos=void 0,o.controlPoint=void 0,o.destroyDistance=20,o}o(s,t);var e=s.prototype;return e.SetPos=function(t,o){this.startPos=t,this.endPos=o},e.start=function(){this.controlPoint=new n(this.startPos.x+i(-200,200),this.startPos.y+i(-200,200),0)},e.update=function(t){if(this.elapsed<this.duration){this.elapsed+=t;var o=this.elapsed/this.duration;o=Math.min(o,1);var s=r(this.startPos.x,this.controlPoint.x,this.controlPoint.x,this.endPos.x,o),e=r(this.startPos.y,this.controlPoint.y,this.controlPoint.y,this.endPos.y,o);this.node.setPosition(s,e,0),this.faceTowards(this.endPos),new n(s,e,0).subtract(this.endPos).length()<=this.destroyDistance&&this.selfDestory()}else this.selfDestory()},e.selfDestory=function(){var t=this;this.node.getComponent(a).enabled=!1,this.node.getComponentInChildren(c).emissionRate=0,setTimeout((function(){t.node&&t.node.destroy()}),500)},e.faceTowards=function(t){var o=t.clone().subtract(this.node.position),s=Math.atan2(o.y,o.x)*(180/Math.PI)-90;this.node.setRotationFromEuler(0,0,s)},s}(h))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStatsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ship.ts","./Entity.ts","./Skill.ts","./Weapon.ts","./Gears.ts","./Rigs.ts"],(function(i){var e,s,a,t,r,o,l,n,h,d;return{setters:[function(i){e=i.createForOfIteratorHelperLoose},function(i){s=i.cclegacy,a=i.sys},function(i){t=i.ShipList},function(i){r=i.Entity,o=i.EntityType},function(i){l=i.SkillList},function(i){n=i.WeaponList},function(i){h=i.GearList},function(i){d=i.RigList}],execute:function(){s._RF.push({},"e025eSLFdlLN4E7wnlpWJ0F","PlayerStatsManager",void 0),i("PlayerStatsManager",function(){function i(){var i=this;this.shipModifiers=[],this.gearModifiers=[],this.rigModifiers=[],this.laserFireRateMod=1,this.laserTrackingSpeedMod=1,this.laserCapacityCostMod=1,this.missileFireRateMod=1,this.artilleryFireRateMod=1,this.artilleryTrackingSpeedMod=1,this.laserDamageMinMod=1,this.laserDamageMaxMod=1,this.missileDamageMinMod=1,this.missileDamageMaxMod=1,this.artilleryDamageMinMod=1,this.artilleryDamageMaxMod=1,this.smallArtilleryDamageMinMod=1,this.smallArtilleryDamageMaxMod=1,this.smallLaserDamageMinMod=1,this.smallLaserDamageMaxMod=1,this.smallMissileDamageMinMod=1,this.smallMissileDamageMaxMod=1,this.mediumArtilleryDamageMinMod=1,this.mediumArtilleryDamageMaxMod=1,this.mediumLaserDamageMinMod=1,this.mediumLaserDamageMaxMod=1,this.mediumMissileDamageMinMod=1,this.mediumMissileDamageMaxMod=1,this.largeArtilleryDamageMinMod=1,this.largeArtilleryDamageMaxMod=1,this.largeLaserDamageMinMod=1,this.largeLaserDamageMaxMod=1,this.largeMissileDamageMinMod=1,this.largeMissileDamageMaxMod=1,this.shieldAmp=0,this.shieldMod=1,this.shieldRCTMod=1,this.shieldEResMod=1,this.shieldTResMod=1,this.shieldKResMod=1,this.hullAmp=0,this.hullMod=1,this.hullEResMod=1,this.hullTResMod=1,this.hullKResMod=1,this.capacityAmp=0,this.capacityMod=1,this.capacitorRCTMod=1,this.speedMod=1,this.CPUMod=1,this.shieldRepMod=1,this.shieldRepCapMod=1,this.speedBoostMod=1,this.player=new r(o.player,"Morzar",null,[],[],[]),this.player.addObserver((function(e){return i.onShipChange(e)}))}i.getInstance=function(){return i.instance||(i.instance=new i),i.instance};var s=i.prototype;return s.onShipChange=function(i){null===i?console.log("Ship has been removed or set to null."):console.log("New ship has been set: "+i.name)},s.SavePlayerStats=function(){var i=this.player;if(i.ship){for(var e={playerShip:i.ship.name},s=1;s<=7;s++)i["weapon_"+s]?e["weapon_"+s]=i["weapon_"+s].name:e["weapon_"+s]=null;for(var t=1;t<=7;t++)i["gear_"+t]?e["gear_"+t]=i["gear_"+t].name:e["gear_"+t]=null;for(var r=1;r<=7;r++)i["rig_"+r]?e["rig_"+r]=i["rig_"+r].name:e["rig_"+r]=null;a.localStorage.setItem("playerData",JSON.stringify(e)),console.info("PlayerStats saved")}},s.loadPlayerStats=function(){if(a.localStorage.getItem("playerData")){var i=a.localStorage.getItem("playerData"),e=JSON.parse(i),s=n.GetInstance(),r=h.GetInstance(),o=d.GetInstance(),l=t.GetInstance();this.player.ship=l.findShipinList(e.playerShip);for(var M=1;M<=7;M++)e["weapon_"+M]&&(this.player["weapon_"+M]=s.findWeaponinList(e["weapon_"+M])),e["gear_"+M]&&(this.player["gear_"+M]=r.findGearinList(e["gear_"+M])),e["rig_"+M]&&(this.player["rig_"+M]=o.findRiginList(e["rig_"+M]));this.init(),console.info("PlayerStats loaded")}else console.info("No Saved Player Data Found")},s.init=function(){this.shipModifiers=[],this.gearModifiers=[],this.rigModifiers=[],this.ResetMods(),this.ApplyShipModifiers(),this.ApplyGearModifiers(),this.ApplyRigModifiers(),this.ApplySkillModifiers(),this.player.init(),console.info("PlayerStats init, Ship Mods: "),console.info(this.shipModifiers),console.info("Gear Mods: "),console.info(this.gearModifiers),console.info("Rig Mods: "),console.info(this.rigModifiers)},s.ApplyShipModifiers=function(){if(this.player.ship){for(var i,s=e(this.player.ship.shipMods);!(i=s()).done;){var a=i.value;if(null==l.GetInstance()[a.required])return void console.error("Could Not Find Required Skill"+a.required);for(var t=l.GetInstance()[a.required],r=0;r<t.level;r++)this.shipModifiers.push(a.mod)}for(var o,n=e(this.shipModifiers);!(o=n()).done;){var h=o.value;if(!h)return;if(!this[h.key])return void console.error("Ship Mod: "+h.key+" Not Found");this[h.key]+=h.value}}},s.ApplyGearModifiers=function(){for(var i=1;i<=7;i++){var s;if(this.player["gear_"+i])(s=this.gearModifiers).push.apply(s,this.player["gear_"+i].gearMods)}for(var a,t=e(this.gearModifiers);!(a=t()).done;){var r=a.value;if(!r)return;if(null==this[r.key])return void console.error("Gear Mod: "+r.key+" Not Found");this[r.key]+=r.value}},s.ApplyRigModifiers=function(){for(var i=1;i<=7;i++){var s;if(this.player["rig_"+i])(s=this.rigModifiers).push.apply(s,this.player["rig_"+i].rigMods)}for(var a,t=e(this.rigModifiers);!(a=t()).done;){var r=a.value;if(!r)return;if(null==this[r.key])return void console.error("Gear Mod: "+r.key+" Not Found");this[r.key]+=r.value}},s.ApplySkillModifiers=function(){for(var i=l.GetInstance(),s=0,a=Object.keys(i);s<a.length;s++)for(var t,r=i[a[s]],o=e(r.skillEffects);!(t=o()).done;){var n=t.value;n&&(null!=this[n.key]?this[n.key]+=r.level*n.value:console.error("skill: "+n.key+" Not Found"))}},s.ResetMods=function(){for(var i=0,e=Object.keys(this);i<e.length;i++){var s=e[i];s.endsWith("Mod")&&(this[s]=1),s.endsWith("Amp")&&(this[s]=0)}},i}()).instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/RandomSeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./TimeManager.ts","./index.js"],(function(e){var n,t,r,u,c;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy},null,function(e){u=e.FetchUnixTime},function(e){c=e.default}],execute:function(){r._RF.push({},"1364cx6syVH9ZJgRepkDPca","RandomSeed",void 0);e("SeededRandom",function(){function e(){}return e.generateSeededRandomNumber=function(){var e=n(t().mark((function e(n,r){var o,a,i,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="1893",e.next=3,u.FetchUnixTime();case 3:return a=e.sent,i=Math.floor(a/3600+r),s=c(i+"-"+n+"-"+o),e.abrupt("return",.2*s()-.1);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Rigs.ts",["cc","./Gears.ts"],(function(e){var i,t,n;return{setters:[function(e){i=e.cclegacy,t=e._decorator},function(e){n=e.EquipmentSize}],execute:function(){i._RF.push({},"fd4dbhDufxCnJfjCgEh+ICW","Rigs",void 0);t.ccclass,t.property;var r=e("Rig",(function(e,i,t,r,o){this.name=void 0,this.id=void 0,this.techLevel=void 0,this.size=n.S,this.image=void 0,this.rigMods=[],this.CPU=0,this.name=e,this.id=i,this.techLevel=t,this.image=r,this.rigMods=o}));e("RigList",function(){function e(){this.R1_DefenceFieldExtender=new r("Defence Field Extender",1001,1,"Icon_ShieldExtender",[{key:"shieldMod",value:.15}]),this.R1_DefenceFieldPurger=new r("Defence Field Purger",1002,1,"Icon_ShieldExtender",[{key:"shieldRCTMod",value:.15}]),this.R1_ShieldPowerRelay=new r("Shield Power Relay",1003,1,"Icon_ShieldExtender",[{key:"shieldRCTMod",value:.2},{key:"capacitorRCTMod",value:-.3}]),this.R1_ShieldFluxCoil=new r("Shield Flux Coil",1004,1,"Icon_ShieldExtender",[{key:"shieldRCTMod",value:.3},{key:"shieldMod",value:-.15}]),this.R1_CapacitorMaximizer=new r("Capacitor Maximizer",1005,1,"Icon_CapacitorBattery",[{key:"capacityMod",value:.15}]),this.R1_CapacitorControlCircuit=new r("Capacitor Control Circuit",1006,1,"Icon_CapacitorBattery",[{key:"capacitorRCTMod",value:.15}]),this.R1_CapacitorPowerRelay=new r("Capacitor Power Relay",1007,1,"Icon_CapacitorBattery",[{key:"capacitorRCTMod",value:.2},{key:"shieldRCTMod",value:-.1}]),this.R1_CapacitorFluxCoil=new r("Capacitor Flux Coil",1008,1,"Icon_CapacitorBattery",[{key:"capacitorRCTMod",value:.35},{key:"capacityMod",value:-.2}]),this.R1_CPUPowerMaximizer=new r("CPU Power Maximizer",1009,1,"Icon_WeaponUpgrade",[{key:"CPUMod",value:.1}]),this.R1_AuxilaryThruster=new r("Auxilary Thruster",1012,1,"Icon_ThrusterBooster",[{key:"speedMod",value:.0725}]),this.R1_AntiEMScreenReinforcer=new r("Anti-EM Screen Reinforcer",1015,1,"Icon_ShieldERes",[{key:"shieldEResMod",value:.2}]),this.R1_AntiThermalScreenReinforcer=new r("Anti-Thermal Screen Reinforcer",1016,1,"Icon_ShieldTRes",[{key:"shieldTResMod",value:.2}]),this.R1_AntiKineticScreenReinforcer=new r("Anti-Kinetic Screen Reinforcer",1017,1,"Icon_ShieldKRes",[{key:"shieldKResMod",value:.2}])}return e.GetInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.findRiginList=function(e){for(var i=0,t=Object.keys(this);i<t.length;i++){var n=t[i];if(this[n].name===e)return this[n]}},e}()).instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/RoundBarControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,n,o,i,a,l,s,u;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,l=t.CCInteger,s=t.Sprite,u=t.Component}],execute:function(){var c,p,f,g,d,h,b;i._RF.push({},"bd1d2WrntpI0bOba/wwitKN","RoundBarControl",void 0);var y=a.ccclass,C=a.property;t("RoundBarControl",(c=y("RoundBarControl"),p=C(l),f=C(l),c((h=r((d=function(t){function r(){for(var r,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(r=t.call.apply(t,[this].concat(i))||this).progress=.5,n(r,"fillstart",h,o(r)),n(r,"range",b,o(r)),r}e(r,t);var i=r.prototype;return i.start=function(){this.node.getComponent(s).fillStart=this.fillstart/360},i.update=function(t){this.node.getComponent(s).fillRange=-this.progress*(this.range/360)},r}(u)).prototype,"fillstart",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),b=r(d.prototype,"range",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 120}}),g=d))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/SaveLoadManager.ts",["cc","./Armory.ts","./Skill.ts","./TrainingManager.ts","./PlayerStatsManager.ts"],(function(n){var a,e,t,r,s,o;return{setters:[function(n){a=n.cclegacy,e=n.sys},function(n){t=n.Armory},function(n){r=n.SkillList},function(n){s=n.TrainingManager},function(n){o=n.PlayerStatsManager}],execute:function(){a._RF.push({},"3b1f3kq/bpBkLm2nShQm1g9","SaveLoadManager",void 0);n("SaveLoadManager",function(){function n(){}return n.SaveAll=function(){this.RemoveAll(),t.getInstance().saveArmory(),t.getInstance().saveShipyard(),r.GetInstance().saveSkills(),s.GetInstance().saveTraining(),o.getInstance().SavePlayerStats()},n.LoadAll=function(){t.getInstance().loadArmory(),t.getInstance().loadShipyard(),r.GetInstance().loadSkills(),s.GetInstance().loadTraining(),o.getInstance().loadPlayerStats()},n.RemoveAll=function(){e.localStorage.clear(),console.info("Skill Data Removed")},n}());a._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SaveLoadManager.ts"],(function(n){var e,t,o,c,a,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,c=n.director,a=n.Component},function(n){i=n.SaveLoadManager}],execute:function(){var l;t._RF.push({},"129ae5ZhiFPBK0sq17oTTzG","SceneSwitch",void 0);var r=o.ccclass;o.property,n("SceneSwitch",r("SceneSwitch")(l=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.start=function(){},o.update=function(n){},o.loadBattle=function(){c.loadScene("BattleTest")},o.loadArmory=function(){c.loadScene("Fitting")},o.loadMain=function(){c.loadScene("MainMenu")},o.loadTraining=function(){c.loadScene("SkillTraining")},o.SaveAll=function(){i.SaveAll()},o.LoadAll=function(){i.LoadAll()},o.RemoveAll=function(){i.RemoveAll()},t}(a))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/Ship.ts",["cc"],(function(i){var s;return{setters:[function(i){s=i.cclegacy}],execute:function(){s._RF.push({},"caec45mddtMe6/XvjeY3Qo6","Ship",void 0);var t=i("ShipType",function(i){return i[i.small=0]="small",i[i.medium=1]="medium",i[i.large=2]="large",i}({})),e=i("Ship",(function(i,s,t,e,h,l,o,n,a,d,r,c,p,u,v,m,S,R,T,y,f,g){this.name=void 0,this.id=void 0,this.image=void 0,this.shipType=void 0,this.shield=void 0,this.armor=void 0,this.hull=void 0,this.shieldRCT=void 0,this.shieldERes=void 0,this.shieldTRes=void 0,this.shieldKRes=void 0,this.hullERes=void 0,this.hullTRes=void 0,this.hullKRes=void 0,this.capacity=void 0,this.capacitorRCT=void 0,this.speed=void 0,this.weaponSlot=void 0,this.gearSlot=void 0,this.rigSlot=void 0,this.CPU=void 0,this.shipMods=[],this.name=i,this.id=s,this.image=t,this.shipType=e,this.shield=h,this.armor=l,this.hull=o,this.shieldRCT=n,this.shieldERes=a,this.shieldTRes=d,this.shieldKRes=r,this.hullERes=c,this.hullTRes=p,this.hullKRes=u,this.capacity=v,this.capacitorRCT=m,this.speed=S,this.weaponSlot=T,this.gearSlot=y,this.rigSlot=f,this.CPU=R,g&&(this.shipMods=g)}));i("ShipList",function(){function i(){this.ship_0=new e("StarterShip",0,"StarterShip",t.small,10,0,20,500,0,0,0,0,0,0,20,100,200,10,0,0,0,null),this.Slasher=new e("Slasher",1,"Slasher",t.small,350,0,300,550,0,.3,.5,.6,.3,.1,240,120,400,50,2,2,2,[{required:"smallShipOperation",mod:{key:"shieldMod",value:.05}}]),this.Cyclone=new e("Cyclone",2,"Cyclone",t.small,80,0,100,300,.1,.2,.4,.4,.2,0,100,150,100,100,3,2,3,[]),this.Stabber=new e("Stabber",3,"Stabber",t.medium,1600,0,1300,1250,0,.3,.5,.6,.3,.1,1200,380,290,250,4,4,3,[]),this.Tempest=new e("Tempest",4,"Tempest",t.large,7480,0,7700,2500,0,.3,.5,.6,.3,.1,5400,1200,127,550,6,6,3,[])}return i.GetInstance=function(){return i.instance||(i.instance=new i),i.instance},i.prototype.findShipinList=function(i){for(var s=0,t=Object.keys(this);s<t.length;s++){var e=t[s];if(this[e].name===i)return this[e]}},i}()).instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/ShipDescUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./LabelAndValueControl.ts"],(function(e){var i,l,t,r,n,a,o,s,u,p,h,b,c,g,S,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,p=e.ProgressBar,h=e.resources,b=e.SpriteFrame,c=e.Sprite,g=e.Component},function(e){S=e.EventManager},function(e){f=e.LabelAndValueControl}],execute:function(){var d,m,E,y,H,I,R,w,C,z,P,T,v,D,A,L,U,M,K,O,G,N,B,F,_,W,Y,k,V,j,q,x,J,Q,X,Z,$,ee,ie,le,te,re,ne;a._RF.push({},"b3986wiaNlPmryGGS/HBomf","ShipDescUI",void 0);var ae=o.ccclass,oe=o.property;e("ShipDescUI",(d=ae("ShipDescUI"),m=oe(s),E=oe(u),y=oe(f),H=oe(u),I=oe(p),R=oe(p),w=oe(p),C=oe(f),z=oe(u),P=oe(p),T=oe(p),v=oe(p),D=oe(f),A=oe(f),L=oe(f),U=oe(u),M=oe(u),K=oe(u),O=oe(u),G=oe(s),d((F=i((B=function(e){function i(){for(var i,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,t(i,"image",F,r(i)),t(i,"NAME",_,r(i)),t(i,"SHIELD",W,r(i)),t(i,"SHIELDRES",Y,r(i)),t(i,"ShieldE",k,r(i)),t(i,"ShieldT",V,r(i)),t(i,"ShieldK",j,r(i)),t(i,"Hull",q,r(i)),t(i,"HullRes",x,r(i)),t(i,"HullE",J,r(i)),t(i,"HullT",Q,r(i)),t(i,"HullK",X,r(i)),t(i,"CAPACITY",Z,r(i)),t(i,"SPEED",$,r(i)),t(i,"CPU",ee,r(i)),t(i,"WEAPON",ie,r(i)),t(i,"GEAR",le,r(i)),t(i,"RIG",te,r(i)),t(i,"SHIPMOD",re,r(i)),t(i,"installButton",ne,r(i)),i.shipItem=void 0,i}l(i,e);var a=i.prototype;return a.start=function(){var e=this;this.node.on(s.EventType.TOUCH_START,(function(){e.CloseUI()}));this.node.getChildByName("InstallButton")},a.GetShip=function(e){var i=this;this.shipItem=e;var l=e.ship;console.log("displaying "+l.name),h.load(l.image+"/spriteFrame",b,(function(e,l){i.image.getComponent(c).spriteFrame=l})),this.NAME.string=l.name,this.SHIELD.setLabel("Shield:",l.shield+" Hp"),this.SHIELDRES.string=100*l.shieldERes+"%\n"+100*l.shieldTRes+"%\n"+100*l.shieldKRes+"%",this.ShieldE.progress=l.shieldERes,this.ShieldT.progress=l.shieldTRes,this.ShieldK.progress=l.shieldKRes,this.Hull.setLabel("Hull:",l.hull+" Hp"),this.HullRes.string=100*l.hullERes+"%\n"+100*l.hullTRes+"%\n"+100*l.hullKRes+"%",this.HullE.progress=l.hullERes,this.HullT.progress=l.hullTRes,this.HullK.progress=l.hullKRes,this.CAPACITY.setLabel("Capacity:",""+l.capacity),this.SPEED.setLabel("Speed:",""+l.speed),this.CPU.setLabel("CPU:",""+l.CPU),this.WEAPON.string=l.weaponSlot.toString(),this.GEAR.string=l.gearSlot.toString(),this.RIG.string=l.rigSlot.toString(),this.SHIPMOD.string="";for(var t,r=n(l.shipMods);!(t=r()).done;){var a=t.value;this.SHIPMOD.string+="Each Level of "+a.required+": \n"+a.mod.key+": "+a.mod.value+"\n"}},a.CloseUI=function(){this.node.destroy()},a.InstallShip=function(){S.emit("InstallShip",this.shipItem),this.CloseUI()},a.onDestroy=function(){var e=this;this.node.off(s.EventType.TOUCH_START,(function(){e.CloseUI()}))},i}(g)).prototype,"image",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(B.prototype,"NAME",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(B.prototype,"SHIELD",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(B.prototype,"SHIELDRES",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(B.prototype,"ShieldE",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(B.prototype,"ShieldT",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(B.prototype,"ShieldK",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(B.prototype,"Hull",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(B.prototype,"HullRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(B.prototype,"HullE",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(B.prototype,"HullT",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(B.prototype,"HullK",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(B.prototype,"CAPACITY",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(B.prototype,"SPEED",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=i(B.prototype,"CPU",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=i(B.prototype,"WEAPON",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=i(B.prototype,"GEAR",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=i(B.prototype,"RIG",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=i(B.prototype,"SHIPMOD",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=i(B.prototype,"installButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=B))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShipItemControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShipDescUI.ts","./Ship.ts"],(function(e){var i,t,n,r,a,s,o,p,l,h,u,c,m,g,b,I;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Prefab,p=e.Sprite,l=e.Label,h=e.resources,u=e.SpriteFrame,c=e.instantiate,m=e.find,g=e.Component},function(e){b=e.ShipDescUI},function(e){I=e.ShipType}],execute:function(){var C,S,f,w,y,L,d,z,v,D,F,P,U,_,k,M,T;a._RF.push({},"f361d/Xj15MkJKuBWUD8oO0","ShipItemControl",void 0);var j=s.ccclass,B=s.property;e("ShipItemControl",(C=j("ShipItemControl"),S=B(o),f=B(p),w=B(p),y=B(l),L=B(l),d=B(l),z=B(l),C((F=i((D=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,n(i,"ShipItemDesc",F,r(i)),n(i,"shipImage",P,r(i)),n(i,"shipIcon",U,r(i)),n(i,"nameLabel",_,r(i)),n(i,"weaponCountLabel",k,r(i)),n(i,"gearCountLabel",M,r(i)),n(i,"rigCountLabel",T,r(i)),i.shipItem=null,i.weaponCount=0,i.gearCount=0,i.rigCount=0,i.shipSize=void 0,i}t(i,e);var a=i.prototype;return a.start=function(){var e=this;switch(h.load(this.shipItem.ship.image+"/spriteFrame",u,(function(i,t){e.shipImage.spriteFrame=t})),this.weaponCount=this.shipItem.weapon.length,this.gearCount=this.shipItem.gear.length,this.rigCount=this.shipItem.rig.length,this.nameLabel.string=this.shipItem.ship.name,this.weaponCountLabel.string=this.weaponCount+" / "+this.shipItem.ship.weaponSlot,this.gearCountLabel.string=this.gearCount+" / "+this.shipItem.ship.gearSlot,this.rigCountLabel.string=this.rigCount+" / "+this.shipItem.ship.rigSlot,this.shipItem.ship.shipType){case I.small:this.shipSize="Small";break;case I.medium:this.shipSize="Medium";break;case I.large:this.shipSize="Large"}h.load("ShipIcon_"+this.shipSize+"/spriteFrame",u,(function(i,t){e.shipIcon.spriteFrame=t}))},a.Pressed=function(){var e=c(this.ShipItemDesc);e.setParent(m("Canvas/PopUpUI")),e.getComponent(b).GetShip(this.shipItem),console.log(this.shipItem.ship.name+" pressed")},i}(g)).prototype,"ShipItemDesc",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(D.prototype,"shipImage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(D.prototype,"shipIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(D.prototype,"nameLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(D.prototype,"weaponCountLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(D.prototype,"gearCountLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(D.prototype,"rigCountLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShipUIControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entity.ts","./EventManager.ts"],(function(t){var e,i,n,o,r,s,a,l,p,h,c,u,d,y,f,v,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.ParticleSystem2D,l=t.Node,p=t.tween,h=t.Vec3,c=t.randomRange,u=t.UIOpacity,d=t.Component,y=t.resources,f=t.SpriteFrame,v=t.Sprite},function(t){m=t.EntityType},function(t){g=t.EventManager}],execute:function(){var S,P,b,w,C,R,E,z,F,M,x;r._RF.push({},"65a0aYb8BtFQ4APciC9ZzET","ShipUIControl",void 0);var I=s.ccclass,_=s.property;t("ShipUIControl",(S=I("ShipUIControl"),P=_(a),b=_(a),w=_(l),C=_(l),S((z=e((E=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).startPosX=void 0,e.startPosY=void 0,n(e,"shipExplosionParticle",z,o(e)),n(e,"thrusterParticle",F,o(e)),n(e,"turrets",M,o(e)),n(e,"shieldSphere",x,o(e)),e.entity=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.startPosX=this.node.position.x,this.startPosY=this.node.position.y},r.start=function(){var t=this;g.on("ActiveShieldSphere",this.ActiveShield,this),this.LoadWeapons(),this.entity&&this.entity.type==m.enemy?p(this.node).to(3,{position:new h(0,0)},{easing:"sineOut"}).call((function(){t.MoveRandomly()})).start():(this.FlipNode(),this.MoveRandomly())},r.update=function(){this.entity&&(this.entity.hull,this.entity.hullMax)},r.FlipNode=function(){this.node.setScale(-1,1,1),this.thrusterParticle.endRadius*=-1,this.node.children},r.MoveRandomly=function(){var t=this,e=c(-10,10),i=c(-10,10);p(this.node).to(c(2,4),{position:new h(this.startPosX+e,this.startPosY+i,this.node.position.z)},{easing:"sineInOut"}).call((function(){t.MoveRandomly()})).start()},r.LoadWeapons=function(){var t=this;if(this.entity)for(var e=function(e){t.entity["weapon_"+e]&&y.load("onBoard_"+t.entity["weapon_"+e].image+"/spriteFrame",f,(function(i,n){t.turrets.children[e-1].getComponent(v).spriteFrame=n}))},i=1;i<=7;i++)e(i)},r.ActiveShield=function(t){t.type==this.entity.type&&(this.shieldSphere.getComponent(u).opacity=255,p(this.shieldSphere.getComponent(u)).to(1,{opacity:0}).start())},r.ShipExplode=function(){var t=this;p(this.node).stop(),this.thrusterParticle.emissionRate=0,this.shipExplosionParticle.emissionRate=50,p(this.node.getComponent(u)).to(5,{opacity:0}).call((function(){t.node.destroy()})).start()},e}(d)).prototype,"shipExplosionParticle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(E.prototype,"thrusterParticle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(E.prototype,"turrets",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(E.prototype,"shieldSphere",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=E))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/Skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){var l,i,a,s,r;return{setters:[function(e){l=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,a=e._decorator,s=e.sys},function(e){r=e.EventManager}],execute:function(){i._RF.push({},"eb82eAVbDpKaqmXcYPlFCCQ","Skill",void 0);a.ccclass,a.property;var t=e("Skill",(function(e,l,i,a,s,r,t){this.name=void 0,this.requiredSkill=void 0,this.level=void 0,this.skillEffects=void 0,this.trainingTimeMul=void 0,this.image=void 0,this.descText=void 0,this.trainingTimes=[1,15,30,60,120],this.name=e,this.requiredSkill=l,this.level=i,this.skillEffects=a,this.trainingTimeMul=s,this.image=r,this.descText=t}));e("SkillList",function(){function e(){this.gunnery=new t("Gunnery",[],0,[{key:"artilleryFireRateMod",value:.02},{key:"laserFireRateMod",value:.02}],1,"Icon_Artillery","Basic turret Operation Skill. 2% bonus to weapon turrets' rate of fire per skill level."),this.rapidFiring=new t("Rapid Firing",[{skill:this.gunnery,level:2}],0,[{key:"artilleryFireRateMod",value:.04},{key:"laserFireRateMod",value:.04}],2,"Icon_Artillery","Skill at the rapid discharge of weapon turrets, 4% bonus per skill level to weapon turret rate of fire."),this.motionPrediction=new t("Motion Prediction",[{skill:this.gunnery,level:2}],0,[{key:"artilleryTrackingSpeedMod",value:.05},{key:"laserTrackingSpeedMod",value:.05}],2,"Icon_Artillery","Improved ability at hitting moving targets. 5% bonus per skill level to weapon turret tracking speeds."),this.controlledBurst=new t("Laser Controlled Burst",[{skill:this.gunnery,level:2}],0,[{key:"laserCapacityCostMod",value:.05}],2,"Icon_Laser","Allows better control over the capacitor use of weapon turrets, 5% reduction in capacitor need of weapon turrets per skill level."),this.smallLaserUpgrade=new t("Small Laser Upgrade",[{skill:this.gunnery,level:1}],0,[{key:"smallLaserDamageMinMod",value:.05},{key:"smallLaserDamageMaxMod",value:.05}],1,"Icon_LaserDamageBooster","Operation of small energy turrets. 5% Bonus to small energy turret damage per level."),this.mediumLaserUpgrade=new t("Medium Laser Upgrade",[{skill:this.gunnery,level:3},{skill:this.smallLaserUpgrade,level:3}],0,[{key:"mediumLaserDamageMinMod",value:.05},{key:"mediumLaserDamageMaxMod",value:.05}],3,"Icon_LaserDamageBooster","Operation of medium energy turrets. 5% Bonus to medium energy turret damage per level."),this.largeLaserUpgrade=new t("Large Laser Upgrade",[{skill:this.gunnery,level:5},{skill:this.mediumLaserUpgrade,level:3}],0,[{key:"largeLaserDamageMinMod",value:.05},{key:"largeLaserDamageMaxMod",value:.05}],5,"Icon_LaserDamageBooster","Operation of large energy turrets. 5% Bonus to large energy turret damage per level."),this.smallArtilleryUpgrade=new t("Small Artillery Upgrade",[{skill:this.gunnery,level:1}],0,[{key:"smallArtilleryDamageMinMod",value:.05},{key:"smallArtilleryDamageMaxMod",value:.05}],1,"Icon_ArtilleryDamageBooster","Operation of small artillery turrets. 5% Bonus to small artillery turret damage per level."),this.mediumArtilleryUpgrade=new t("Medium Artillery Upgrade",[{skill:this.gunnery,level:3},{skill:this.smallArtilleryUpgrade,level:3}],0,[{key:"mediumArtilleryDamageMinMod",value:.05},{key:"mediumArtilleryDamageMaxMod",value:.05}],3,"Icon_ArtilleryDamageBooster","Operation of medium artillery turrets. 5% Bonus to medium artillery turret damage per level."),this.largeArtilleryUpgrade=new t("Large Artillery Upgrade",[{skill:this.gunnery,level:5},{skill:this.mediumArtilleryUpgrade,level:3}],0,[{key:"largeArtilleryDamageMinMod",value:.05},{key:"largeArtilleryDamageMaxMod",value:.05}],5,"Icon_ArtilleryDamageBooster","Operation of large artillery turrets. 5% Bonus to large artillery turret damage per level."),this.missileOperation=new t("Missile Operation",[],0,[{key:"missileFireRateMod",value:.02}],1,"Icon_Missile","Basic operation of missile launcher systems. 2% Bonus to missile launcher rate of fire per skill level."),this.rapidLaunching=new t("Rapid Launching",[{skill:this.missileOperation,level:2}],0,[{key:"missileFireRateMod",value:.03}],2,"Icon_Missile","Proficiency in operation of missile launchers. 3% Bonus to missile launcher rate of fire per level."),this.warheadUpgrade=new t("Warhead Upgrade",[{skill:this.missileOperation,level:4}],0,[{key:"missileDamageMinMod",value:.02},{key:"missileDamageMaxMod",value:.02}],5,"Icon_Missile","Upgrading missile warheads with deadlier payload. 2% Bonus to all missile damage per level."),this.smallMissileUpgrade=new t("Small Missile Upgrade",[{skill:this.missileOperation,level:2}],0,[{key:"smallMissileDamageMinMod",value:.05},{key:"smallMissileDamageMaxMod",value:.05}],2,"Icon_MissileDamageBooster","Operation of small missile launchers. 5% Bonus to small missile damage per level."),this.mediumMissileUpgrade=new t("Medium Missile Upgrade",[{skill:this.missileOperation,level:3},{skill:this.smallMissileUpgrade,level:3}],0,[{key:"mediumMissileDamageMinMod",value:.05},{key:"mediumMissileDamageMaxMod",value:.05}],3,"Icon_MissileDamageBooster","Operation of medium missile launchers. 5% Bonus to medium missile damage per level."),this.largeMissileUpgrade=new t("Large Artillery Upgrade",[{skill:this.missileOperation,level:5},{skill:this.mediumMissileUpgrade,level:3}],0,[{key:"largeMissileDamageMinMod",value:.05},{key:"largeMissileDamageMaxMod",value:.05}],5,"Icon_MissileDamageBooster","Operation of large missile launchers. 5% Bonus to large missile damage per level."),this.cpuManagement=new t("CPU Management",[],0,[{key:"CPUMod",value:.05}],1,"Icon_WeaponUpgrade","Basic understanding of spaceship sensory and computer systems. 5% Bonus to ship CPU output per level."),this.capacitorOperation=new t("Capacitor Operation",[{skill:this.cpuManagement,level:1}],0,[{key:"capacitorRCTMod",value:.05}],1,"Icon_CapacitorBattery","Skill at operating ship's capacitor. 5% reduction in capacitor recharge time per level."),this.capacitorManagement=new t("Capacitor Management",[{skill:this.cpuManagement,level:3}],0,[{key:"capacityMod",value:.05}],3,"Icon_CapacitorBattery","Skill at regulating ship's overall energy capacity. 5% Bonus to capacitor capacity per level."),this.shieldOperation=new t("Shield Operation",[{skill:this.cpuManagement,level:1}],0,[{key:"shieldRCTMod",value:.05}],1,"Icon_ShieldExtender","Skill at operating ship's shield system, 5% reduction in shield recharge time per level."),this.shieldManagement=new t("Shield Management",[{skill:this.cpuManagement,level:3}],0,[{key:"shieldMod",value:.05}],3,"Icon_ShieldExtender","Skill at regulating the ship's shield system. 5% Bonus to shield capacity per level."),this.emShieldCompensation=new t("EM Shield Compensation",[{skill:this.shieldOperation,level:4}],0,[{key:"shieldEResMod",value:.05}],2,"Icon_ShieldERes","5% Bonus to shield's EM resistance per level."),this.thermalShieldCompensation=new t("Thermal Shield Compensation",[{skill:this.shieldOperation,level:4}],0,[{key:"shieldTResMod",value:.05}],2,"Icon_ShieldTRes","5% Bonus to shield's thermal resistance per level."),this.kineticShieldCompensation=new t("Kinetic Shield Compensation",[{skill:this.shieldOperation,level:4}],0,[{key:"shieldKResMod",value:.05}],2,"Icon_ShieldKRes","5% Bonus to shield's kinetic resistance per level."),this.shipCommand=new t("Ship Command",[],0,[{key:"speedMod",value:.05}],1,"Icon_ThrusterBooster","The basic operation of spsceships. 5% Bonus to ship's max velocity per level."),this.smallShipOperation=new t("Small Ship Operation",[{skill:this.shipCommand,level:1}],0,[],2,"ShipIcon_Small","Skill at operating small ships"),this.mediumShipOperation=new t("Medium Ship Operation",[{skill:this.shipCommand,level:3},{skill:this.smallShipOperation,level:3}],0,[],5,"ShipIcon_Medium","Skill at operating medium ships"),this.largeShipOperation=new t("Large Ship Operation",[{skill:this.shipCommand,level:4},{skill:this.mediumShipOperation,level:3}],0,[],8,"ShipIcon_Large","Skill at operating large ships")}e.GetInstance=function(){return e.instance||(e.instance=new e),e.instance};var i=e.prototype;return i.checkSkillRequirement=function(e){if(0==e.requiredSkill.length)return!0;for(var i,a=l(e.requiredSkill);!(i=a()).done;){var s=i.value;if(s.skill.level<s.level)return!1}return!0},i.saveSkills=function(){for(var e={},l=0,i=Object.keys(this);l<i.length;l++){var a=i[l];e[this[a].name]=this[a].level}s.localStorage.setItem("skillsData",JSON.stringify(e)),console.info("Skills saved")},i.loadSkills=function(){if(s.localStorage.getItem("skillsData")){for(var e=s.localStorage.getItem("skillsData"),l=JSON.parse(e),i=0,a=Object.keys(this);i<a.length;i++){var t=a[i];void 0!==l[this[t].name]&&(this[t].level=l[this[t].name])}r.emit("RefreshSkillIcons"),console.info("skills loaded")}else console.info("No Saved Skill Data Found")},i.findSkillinList=function(e){for(var l=0,i=Object.keys(this);l<i.length;l++){var a=i[l];if(this[a].name===e)return this[a]}},e}()).instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillDescUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Skill.ts","./TrainingUIManager.ts","./TrainingManager.ts"],(function(e){var i,l,r,t,n,a,o,s,u,c,g,b,k,d,p,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,o=e.Node,s=e.Label,u=e.resources,c=e.SpriteFrame,g=e.Sprite,b=e.Color,k=e.Component},function(e){d=e.SkillList},function(e){p=e.FormatTime},function(e){S=e.TrainingManager}],execute:function(){var m,h,f,v,q,L,T,y,_,I,D,C,z,U,w,F,M,R,A,B,E;n._RF.push({},"2d9d82bcQ9F37DH4qV0CII4","SkillDescUI",void 0);var G=a.ccclass,H=a.property;e("SkillDescUI",(m=G("SkillDescUI"),h=H(o),f=H(s),v=H(s),q=H(s),L=H(s),T=H(s),y=H(s),_=H(s),I=H(o),m((z=i((C=function(e){function i(){for(var i,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,r(i,"image",z,t(i)),r(i,"nameLabel",U,t(i)),r(i,"levelLabel",w,t(i)),r(i,"skillDescLabel",F,t(i)),r(i,"trainingTimeLabel",M,t(i)),r(i,"requiredLabel",R,t(i)),r(i,"requiredSkill_1",A,t(i)),r(i,"requiredSkill_2",B,t(i)),r(i,"trainingButton",E,t(i)),i.skill=void 0,i}l(i,e);var n=i.prototype;return n.start=function(){var e=this;this.node.on(o.EventType.TOUCH_START,(function(){e.CloseUI()})),this.skill.level<5?this.trainingButton.active=!0:this.trainingButton.active=!1},n.GetSkill=function(e){var i=this;this.skill=e,u.load(this.skill.image+"/spriteFrame",c,(function(e,l){i.image.getComponent(g).spriteFrame=l})),this.nameLabel.string=e.name,this.levelLabel.string=e.level.toString(),this.skillDescLabel.string=e.descText,e.level<5?this.trainingTimeLabel.string=""+p(e.trainingTimeMul*e.trainingTimes[e.level]):this.trainingTimeLabel.string="Max",e.requiredSkill[0]?(this.requiredSkill_1.string=e.requiredSkill[0].skill.name+": "+e.requiredSkill[0].level,d.GetInstance().findSkillinList(e.requiredSkill[0].skill.name).level<e.requiredSkill[0].level?this.requiredSkill_1.color=b.RED:this.requiredSkill_1.color=b.CYAN):(this.requiredLabel.string="",this.requiredSkill_1.string=""),e.requiredSkill[1]?(this.requiredSkill_2.string=e.requiredSkill[1].skill.name+": "+e.requiredSkill[1].level,d.GetInstance().findSkillinList(e.requiredSkill[1].skill.name).level<e.requiredSkill[1].level?this.requiredSkill_2.color=b.RED:this.requiredSkill_2.color=b.CYAN):this.requiredSkill_2.string=""},n.StartTraining=function(){S.GetInstance().StartTraining(this.skill),this.CloseUI()},n.CloseUI=function(){this.node.destroy()},n.onDestroy=function(){var e=this;this.node.off(o.EventType.TOUCH_START,(function(){e.CloseUI()}))},i}(k)).prototype,"image",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(C.prototype,"nameLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(C.prototype,"levelLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(C.prototype,"skillDescLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(C.prototype,"trainingTimeLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(C.prototype,"requiredLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(C.prototype,"requiredSkill_1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(C.prototype,"requiredSkill_2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(C.prototype,"trainingButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=C))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillIconControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Skill.ts","./EventManager.ts","./TrainingManager.ts","./SkillDescUI.ts"],(function(i){var e,l,t,n,r,a,s,o,c,u,h,k,p,f,v,I,m,b,d,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,l=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,s=i.CCString,o=i.Sprite,c=i.Node,u=i.Prefab,h=i.Label,k=i.resources,p=i.SpriteFrame,f=i.instantiate,v=i.find,I=i.Component},function(i){m=i.SkillList},function(i){b=i.EventManager},function(i){d=i.TrainingManager},function(i){g=i.SkillDescUI}],execute:function(){var S,y,L,C,D,P,z,R,U,w,G,M,F,N,T,A,_;r._RF.push({},"029a1mppmhD5qdb/tZU5Fvp","SkillIconControl",void 0);var q=a.ccclass,E=a.property;i("SkillIconControl",(S=q("SkillIconControl"),y=E(s),L=E(o),C=E(c),D=E(u),P=E(h),z=E(u),R=E(h),S((G=e((w=function(i){function e(){for(var e,l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return e=i.call.apply(i,[this].concat(r))||this,t(e,"skillID",G,n(e)),t(e,"skillSprite",M,n(e)),t(e,"levelIndicatorLayout",F,n(e)),t(e,"levelIndicator",N,n(e)),t(e,"skillNameLabel",T,n(e)),t(e,"descUIPre",A,n(e)),t(e,"timerLabel",_,n(e)),e.skill=void 0,e}l(e,i);var r=e.prototype;return r.start=function(){this.onPress(),this.init(),b.on("RefreshSkillIcons",this.init,this)},r.update=function(i){d.GetInstance().trainingSkill==this.skill?this.timerLabel.string=d.GetInstance().getTimeRemaining():this.timerLabel.string=""},r.init=function(){this.levelIndicatorLayout.removeAllChildren(),m.GetInstance()[this.skillID]?(this.skill=m.GetInstance()[this.skillID],this.loadImage(),this.CheckAvailability(),this.loadLevelIndicators(),this.skillNameLabel.string=this.skill.name):console.error(this.skillID+" Not Found")},r.CheckAvailability=function(){var i=m.GetInstance().checkSkillRequirement(this.skill);this.skillSprite.grayscale=!i},r.loadImage=function(){var i=this;k.load(this.skill.image+"/spriteFrame",p,(function(e,l){i.skillSprite.spriteFrame=l}))},r.loadLevelIndicators=function(){for(var i=0;i<=this.skill.level;i++){if(i>0)f(this.levelIndicator).setParent(this.levelIndicatorLayout)}},r.onPress=function(){var i=this;this.node.on(c.EventType.TOUCH_END,(function(){var e=f(i.descUIPre);e.setParent(v("Canvas/PopUpUI")),e.getComponent(g).GetSkill(i.skill)}),this)},r.AddSkill=function(){m.GetInstance().checkSkillRequirement(this.skill)&&(this.skill.level+=1,this.skill.level=Math.min(this.skill.level,5),b.emit("RefreshSkillIcons"))},r.MinusSkill=function(){m.GetInstance().checkSkillRequirement(this.skill)&&(this.skill.level-=1,this.skill.level=Math.max(this.skill.level,0),b.emit("RefreshSkillIcons"))},e}(I)).prototype,"skillID",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(w.prototype,"skillSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(w.prototype,"levelIndicatorLayout",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(w.prototype,"levelIndicator",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(w.prototype,"skillNameLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(w.prototype,"descUIPre",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(w.prototype,"timerLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=w))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/SliderControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CombatManager.ts"],(function(e){var t,r,n,o,i,s,a,l,c,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Node,l=e.Slider,c=e.ParticleSystem2D,d=e.Component},function(e){p=e.CombatManager}],execute:function(){var u,h,m,y,g;i._RF.push({},"a70acoVsDVMJL/VC6HFN2jt","SliderControl",void 0);var C=s.ccclass,f=s.property;e("SliderControl",(u=C("SliderControl"),h=f(a),u((g=t((y=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"CombatManager",g,o(t)),t.slider=void 0,t.enemyNode=void 0,t.scaleSpeed=.2,t}r(t,e);var i=t.prototype;return i.start=function(){this.enemyNode=p.instance.enemyNode.children[0],this.slider=this.node.getComponent(l)},i.update=function(e){var t=.2+.8*this.slider.progress,r=this.enemyNode.scale.y,n=(t-r)*this.scaleSpeed*e;this.enemyNode.setScale(r+n,r+n),this.enemyNode.getComponentInChildren(c).startSize=100*this.slider.progress,this.enemyNode.getComponentInChildren(c).endSize=20*this.slider.progress},t}(d)).prototype,"CombatManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/StatsBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStatsManager.ts","./EnemyManager.ts","./EventManager.ts"],(function(e){var t,i,a,n,l,s,r,o,h,c,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,r=e.Label,o=e.CCBoolean,h=e.Component},function(e){c=e.PlayerStatsManager},function(e){u=e.EnemyManager},function(e){d=e.EventManager}],execute:function(){var y,b,p,g,f,L,R,m,S,x,v,F,z,w,M,E,C,D,P;l._RF.push({},"1ca876TVMND5q8xKCeScQqy","StatsBoard",void 0);var B=s.ccclass,I=s.property;e("StatsBoard",(y=B("StatsBoard"),b=I(r),p=I(r),g=I(r),f=I(r),L=I(r),R=I(r),m=I(r),S=I(o),y((F=t((v=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,a(t,"nameLabel",F,n(t)),a(t,"shieldLabel",z,n(t)),a(t,"hullLabel",w,n(t)),a(t,"capacityLabel",M,n(t)),a(t,"speedLabel",E,n(t)),a(t,"shieldResLabel",C,n(t)),a(t,"strucResLabel",D,n(t)),a(t,"isPlayer",P,n(t)),t.entity=null,t}i(t,e);var l=t.prototype;return l.start=function(){d.on("LoadNewEnemy",this.InitializeStats,this),this.InitializeStats(),this.node.active=!1},l.InitializeStats=function(){this.isPlayer?this.entity=c.getInstance().player:this.entity=u.instance.GetCurrentEnemy()},l.update=function(e){this.nameLabel.string=this.entity.name.toString(),this.shieldLabel.string="Shield: "+this.entity.shield.toFixed(1)+" / "+this.entity.shieldMax.toFixed(1),this.hullLabel.string="Hull: "+this.entity.hull.toFixed(1)+" / "+this.entity.hullMax.toFixed(1),this.capacityLabel.string="Capacity: "+this.entity.capacity.toFixed(1)+" / "+this.entity.capacityMax.toFixed(1),this.speedLabel.string="Speed: "+this.entity.getSpeed().toFixed(1),this.shieldResLabel.string="ShieldRes: "+this.entity.getRes("shieldERes").toFixed(2)+", "+this.entity.getRes("shieldTRes").toFixed(2)+", "+this.entity.getRes("shieldKRes").toFixed(2)+" ",this.strucResLabel.string="HullRes: "+this.entity.getRes("hullERes").toFixed(2)+", "+this.entity.getRes("hullTRes").toFixed(2)+", "+this.entity.getRes("hullKRes").toFixed(2)+" "},l.DisplayStats=function(){var e=this,t=0;this.node.children.forEach((function(e){e.active=!1})),this.schedule((function(){e.node.children[t].active=!0,t++}),.05,this.node.children.length-1)},l.toggleTargetNodeActive=function(){null!==this.node&&(this.node.active=!this.node.active,this.node.active?this.DisplayStats():this.unscheduleAllCallbacks())},l.onDestroy=function(){d.off("LoadNewEnemy",this.InitializeStats,this)},t}(h)).prototype,"nameLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"shieldLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"hullLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(v.prototype,"capacityLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(v.prototype,"speedLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(v.prototype,"shieldResLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(v.prototype,"strucResLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(v.prototype,"isPlayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=v))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/TimeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"8e3bfuwNVpD9LNrKzMFucZl","TimeManager",void 0);e("FetchUnixTime",function(){function e(){}return e.FetchUnixTime=function(){var e=r(t().mark((function e(){var r,n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://worldtimeapi.org/api/timezone/Australia/Sydney");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("HTTP error! status: "+r.status);case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n.unixtime);case 12:return e.prev=12,e.t0=e.catch(0),console.error("Failed to fetch Unix time:",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TrainingManager.ts",["cc","./TimeManager.ts","./Skill.ts","./EventManager.ts","./TrainingUIManager.ts"],(function(i){var n,e,t,r,a,l;return{setters:[function(i){n=i.cclegacy,e=i.sys},function(i){t=i.FetchUnixTime},function(i){r=i.SkillList},function(i){a=i.EventManager},function(i){l=i.FormatTime}],execute:function(){n._RF.push({},"370e6t3x1lPppF+jbz2r74b","TrainingManager",void 0),i("TrainingManager",function(){function i(){this.timer=null,this.currentTime=0,this.trainingSkill=null,this.trainingLevel=0,this.trainingFinishTime=null}i.GetInstance=function(){return i.instance||(i.instance=new i),i.instance};var n=i.prototype;return n.init=function(){this.trainingSkill=null,this.trainingLevel=0,this.trainingFinishTime=null},n.StartTimer=function(){var i=this;this.timer||(this.timer=setInterval((function(){i.currentTime+=1,console.log("tick"),i.CheckCompletion()}),1e3))},n.StopTimer=function(){null!==this.timer&&(clearInterval(this.timer),this.timer=null)},n.getTrainingTime=function(i){return 5==i.level?0:i.trainingTimes[i.level]*i.trainingTimeMul},n.getTimeRemaining=function(){return this.trainingSkill?l(this.trainingFinishTime-this.currentTime):"0"},n.StartTraining=function(i){var n=this;return 0==r.GetInstance().checkSkillRequirement(i)?(a.emit("ErrorMessage","Previous skills required"),void console.error("Previous skills required")):null!=this.trainingSkill?(a.emit("ErrorMessage","Training Existed"),void console.error("Training Existed")):i.level>=5?(a.emit("ErrorMessage","Skill Level Max"),void console.error("Skill Level Max")):void t.FetchUnixTime().then((function(e){n.currentTime=e,n.StartTimer(),n.trainingSkill=i,n.trainingLevel=i.level+1,n.trainingFinishTime=n.currentTime+n.getTrainingTime(i),console.info("Training Started, "+n.trainingSkill.name+", level: "+n.trainingLevel+", Duration: "+n.getTrainingTime(i)+", FinishTime:"+n.trainingFinishTime)}))},n.saveTraining=function(){if(null!=this.trainingSkill){var i={trainingSkill:this.trainingSkill.name,trainingLevel:this.trainingLevel,trainingFinishTime:this.trainingFinishTime};e.localStorage.setItem("trainingData",JSON.stringify(i)),console.info("Training saved")}else console.info("No current Training")},n.loadTraining=function(){var i=e.localStorage.getItem("trainingData");if(i){var n=JSON.parse(i);this.trainingSkill=r.GetInstance().findSkillinList(n.trainingSkill),this.trainingLevel=n.trainingLevel,this.trainingFinishTime=n.trainingFinishTime,this.ContinueTraining(),console.info("Training loaded")}else console.info("No Saved Training Data Found")},n.ContinueTraining=function(){var i=this;t.FetchUnixTime().then((function(n){i.currentTime=n,i.StartTimer()}))},n.StopTraining=function(){null!=this.trainingSkill&&(this.StopTimer(),this.init(),a.emit("ErrorMessage","Training Cancelled"),console.info("Training cancelled"))},n.CheckCompletion=function(){this.trainingSkill&&(this.currentTime<this.trainingFinishTime||(this.trainingSkill.level=this.trainingLevel,console.info("Training Finished: "+this.trainingSkill.name+" => Level "+this.trainingSkill.level),this.init(),this.StopTimer(),a.emit("RefreshSkillIcons")))},i}()).instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/TrainingUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrainingManager.ts","./SaveLoadManager.ts"],(function(i){var t,n,r,e,a,o,l,s,u,g,c,p,h,T,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,r=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,l=i.Label,s=i.ProgressBar,u=i.Node,g=i.Sprite,c=i.resources,p=i.SpriteFrame,h=i.Component},function(i){T=i.TrainingManager},function(i){m=i.SaveLoadManager}],execute:function(){var f,S,d,M,v,b,I,k,L,y,F;i("FormatTime",(function(i){var t=Math.floor(i/3600),n=Math.floor(i%3600/60),r=i%60;return t+":"+n.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")})),a._RF.push({},"ad92cF+9IJF2aVcD9a9uWjC","TrainingUIManager",void 0);var P=o.ccclass,B=o.property;i("TrainingUIManager",(f=P("TrainingUIManager"),S=B(l),d=B(s),M=B(u),v=B(g),f((k=t((I=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a))||this,r(t,"timerLabel",k,e(t)),r(t,"trainingProgress",L,e(t)),r(t,"stopTrainingButton",y,e(t)),r(t,"SkillIcon",F,e(t)),t.TM=T.GetInstance(),t.currentTime=0,t.currentImagePath=void 0,t}n(t,i);var a=t.prototype;return a.start=function(){this.init()},a.update=function(i){this.updateBar(),this.updateButton(),this.updateIcon()},a.init=function(){this.trainingProgress.progress=0,this.timerLabel.string="No Skill Training"},a.updateBar=function(){if(null!=this.TM.trainingSkill){var i=this.TM.trainingFinishTime,t=this.TM.currentTime-(i-this.TM.getTrainingTime(this.TM.trainingSkill)),n=this.TM.getTrainingTime(this.TM.trainingSkill);this.trainingProgress.progress=t/n,this.timerLabel.string="Training: "+this.TM.trainingSkill.name+" (Level: "+this.TM.trainingLevel+") ("+this.TM.getTimeRemaining()+")"}else this.init()},a.updateButton=function(){this.TM.trainingSkill?this.stopTrainingButton.active=!0:this.stopTrainingButton.active=!1},a.updateIcon=function(){var i=this;if(null==this.TM.trainingSkill)return this.SkillIcon.spriteFrame=null,void(this.currentImagePath=null);var t=this.TM.trainingSkill.image+"/spriteFrame";this.currentImagePath!==t&&(this.currentImagePath=t,c.load(t,p,(function(t,n){t?console.error("Failed to load sprite frame:",t):i.SkillIcon.spriteFrame=n})))},a.StopTraining=function(){T.GetInstance().StopTraining()},a.SaveSkills=function(){m.SaveAll()},a.LoadSkills=function(){m.LoadAll()},a.RemoveSave=function(){m.RemoveAll()},t}(h)).prototype,"timerLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(I.prototype,"trainingProgress",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(I.prototype,"stopTrainingButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(I.prototype,"SkillIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=I))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/Weapon.ts",["cc","./Gears.ts"],(function(i){var e,s,t;return{setters:[function(i){e=i.cclegacy,s=i._decorator},function(i){t=i.EquipmentSize}],execute:function(){e._RF.push({},"840a6uXyHdNIIOczoNt/Xnw","Weapon",void 0);s.ccclass,s.property;var n=i("WeaponType",function(i){return i[i.missile=0]="missile",i[i.laser=1]="laser",i[i.artillery=2]="artillery",i}({})),a=i("Weapon",function(){function i(i,e,s,t,n,a,r,o,l,c,h,u){this.name=void 0,this.id=void 0,this.techLevel=void 0,this.size=void 0,this.weaponType=void 0,this.damageMin=void 0,this.damageMax=void 0,this.fireRate=void 0,this.trackingSpeed=void 0,this.CPU=void 0,this.capacityCost=void 0,this.image=void 0,this.name=i,this.id=e,this.techLevel=s,this.size=t,this.weaponType=n,this.damageMin=a,this.damageMax=r,this.fireRate=o,this.trackingSpeed=l,this.CPU=c,this.capacityCost=h,this.image=u}return i.prototype.Fire=function(){},i}());i("WeaponList",function(){function i(){this.S1_Missile=new a("S1 Small Missile Launcher",1,1,t.S,n.missile,80,110,10,9999,20,0,"Icon_Missile"),this.S1_Laser=new a("S1 Small Laser",2,1,t.S,n.laser,52,75,6,450,20,5,"Icon_Laser"),this.S1_Cannon=new a("S1 Small Artillery",3,1,t.S,n.artillery,40,40,4,450,20,0,"Icon_Artillery"),this.M1_Missile=new a("M1 Medium Missile Launcher",4,1,t.M,n.missile,230,340,12,9999,50,0,"Icon_Missile"),this.M1_Laser=new a("M1 Medium Laser",5,1,t.M,n.laser,150,220,7,250,50,30,"Icon_Laser"),this.M1_Cannon=new a("M1 Medium Artillery",6,1,t.M,n.artillery,125,125,5,250,50,0,"Icon_Artillery"),this.L1_Missile=new a("L1 Large Missile Launcher",7,1,t.L,n.missile,550,800,14,9999,80,0,"Icon_Missile"),this.L1_Laser=new a("L1 Large Laser",8,1,t.L,n.laser,350,500,8,120,80,100,"Icon_Laser"),this.L1_Cannon=new a("L1 Large Artillery",9,1,t.L,n.artillery,300,300,6,120,80,0,"Icon_Artillery")}return i.GetInstance=function(){return i.instance||(i.instance=new i),i.instance},i.prototype.findWeaponinList=function(i){for(var e=0,s=Object.keys(this);e<s.length;e++){var t=s[e];if(this[t].name===i)return this[t]}},i}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponFireCDControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStatsManager.ts"],(function(e){var t,n,r,o,a,i,p,s,l,c,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,p=e.CCInteger,s=e.Sprite,l=e.resources,c=e.SpriteFrame,u=e.Component},function(e){h=e.PlayerStatsManager}],execute:function(){var y,C,f,g,d;a._RF.push({},"c8f77kMGcJCM4wVFbBYAqjz","WeaponFireCDControl",void 0);var m=i.ccclass,F=i.property;e("WeaponFireCDControl",(y=m("WeaponFireCDControl"),C=F(p),y((d=t((g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"WeaponNo",d,o(t)),t.player=void 0,t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;this.player=h.getInstance().player,this.node.getComponent(s).fillRange=0,this.player["weapon_"+this.WeaponNo]?l.load(this.player["weapon_"+this.WeaponNo].image+"/spriteFrame",c,(function(t,n){e.node.getComponentInChildren(s).spriteFrame=n})):this.node.getComponentInChildren(s).spriteFrame=null},a.update=function(e){this.player["weapon_"+this.WeaponNo]&&(this.node.getComponent(s).fillRange=this.player["fireProgress_"+this.WeaponNo])},t}(u)).prototype,"WeaponNo",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponSFFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,p=e.SpriteFrame,c=e.Component}],execute:function(){var s,u,l,y,F,f;i._RF.push({},"56348u4WHpKr6CHRJrNNwAW","WeaponSFFactory",void 0);var h=a.ccclass,S=a.property;e("WeaponSFFactory",(s=h("WeaponSFFactory"),u=S([p]),s(((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"weaponSPList",F,o(t)),t.WeaponSFMap={},t}return n(t,e),t.prototype.onLoad=function(){t.instance=this;for(var e=0;e<this.weaponSPList.length;e++)this.WeaponSFMap[e]=this.weaponSPList[e]},t}(c)).instance=void 0,F=t((y=f).prototype,"weaponSPList",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=y))||l));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});